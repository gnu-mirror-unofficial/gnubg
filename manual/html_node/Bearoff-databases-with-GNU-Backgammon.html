<html lang="en">
<head>
<title>GNU Backgammon</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Backgammon">
<meta name="generator" content="makeinfo 4.3">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
</head>
<body>
<div class="node">
<p>
Node:<a name="Bearoff%20databases%20with%20GNU%20Backgammon">Bearoff databases with GNU Backgammon</a>,
Next:<a rel="next" accesskey="n" href="Obtaining-bearoff-databases.html#Obtaining%20bearoff%20databases">Obtaining bearoff databases</a>,
Previous:<a rel="previous" accesskey="p" href="Introduction-to-bearoff-databases.html#Introduction%20to%20bearoff%20databases">Introduction to bearoff databases</a>,
Up:<a rel="up" accesskey="u" href="Bearoff-databases.html#Bearoff%20databases">Bearoff databases</a>
<hr><br>
</div>

<h3 class="section">Bearoff databases with GNU Backgammon</h3>

   <p><tt>gnubg</tt> works with both one sided and two sided bearoff
databases. Currently, it works with up to four databases; two of each
kind. Two of the databases are read into memory for fast access, but
of course these are limited to very small databases.

   <p>The one sided database kept in memory is either built-in or stored on
disk as <code>gnubg_os0.bd</code> depending on the compile time option
<code>USE_BUILTIN_BEAROFF</code>, which is most easily controlled by passing
the option <code>--enable-bearoff=TYPE</code> where <code>type</code> is either
<code>no</code>, <code>static</code>, or <code>external</code>. <tt>gnubg</tt> can also work
without this database, but will generate a heuristic version every
time the program starts. This can take up to several minutes,
depending on the speed of your computer.

   <p>We recommend using an external file as the executable will be smallest
possible, and several running instances of gnubg will share the memory
if your system has mmap (memory mapping of files).

   <p>The standard size is 15 chequers on 6 points, but you may
generate a larger one, but remember that the <tt>gnubg</tt> will read the
file into memory. The default size should be adequate for all
purposes.

   <p>The two sided database kept in memory (<code>gnubg_ts0.bd</code>) is
optional and you may generate or download your own (see next section
for details). <tt>gnubg</tt> will use the exact cubeful equities in the
databases for cubeful money game evaluations and for truncation in
money game rollouts (see (insert ref to rollout chapter)).

   <p><tt>gnubg</tt> cannot directly use the equities for match play as the
equities, in general, depend on the match score, cube value, and cube
ownership. However, it's possible to calculate the cube efficiency
parameter X from Rick Janowski's formulae from the cubeful money
equities that are available. This is very important as the cube
efficiency parameter often is very different from the range 0.6 and
0.68 that <tt>gnubg</tt> uses for long bearoffs and contact play,
respectively. The calculated value of X is used in
match play generalisation of Janowski's to yield cubeful match winning
chances. <tt>gnubg</tt> uses a similar heuristic for Hypergammon (see below).

   <p>The two databases (<code>gnubg_os.bd</code> and
<code>gnubg_ts.bd</code>) are kept on disk and accessed when
needed. See next section for details on how to generate or download
your own.

   <p>A few words of caution: the race neural net in <tt>gnubg</tt> is believed to
be quite good, so it may not be worthwhile to generate large one sided
database. Joseph Heled has published a comparison of chequer play
decisions between the 0.13 race net and a one sided bearoff database
for 15 chequers on 12 points. A total of 34,165 positions were
examined, and the error rates were quite small:

   <p><table><tr align="left"><td valign="top"><strong>Ply</strong>
</td><td valign="top"><strong>Error rate/positions</strong>
</td><td valign="top"><strong>Number of errors</strong>
</td><td valign="top"><strong>Percentage of positions with errors</strong>
<br></td></tr><tr align="left"><td valign="top">0   </td><td valign="top">0.00025   </td><td valign="top">3231   </td><td valign="top">9.5
<br></td></tr><tr align="left"><td valign="top">1   </td><td valign="top">0.00032   </td><td valign="top">3418   </td><td valign="top">10.0
<br></td></tr><tr align="left"><td valign="top">2   </td><td valign="top">0.00002   </td><td valign="top">1255   </td><td valign="top">3.7
   <br></td></tr></table>

   <p>In order to play or analyse Hypergammon matches or session you need
the databases <code>hyper1.bd</code>, <code>hyper2.bd</code>, and <code>hyper3.bd</code>
for 1-chequer, 2-chequer, and 3-chequer (normal) Hypergammon. These
databases contain the cubeless game winning chance, gammon, and
backgammon probabilities (based on cubeless money play without Jacoby
rule), and cubeful equities for money game: centered cube (with Jacoby
rule), centered cube (without Jacoby rule), owned cube, and
unavailable cube. For match play <tt>gnubg</tt> uses a similar heuristic to
the usage of the two-sided bearoff database in match play for normal
backgammon: the cube efficiency parameter X from Janowski's formulae
are estimated from the cubeful money equities.

   <p>Each position requires 28 bytes of storage. For easy indexing of the
file <tt>gnubg</tt> also use storage for the illegal positions. The table
below shows the size of the Hypergammon databases.

   <p><table><tr align="left"><td valign="top"><strong>Number of chequers</strong>
</td><td valign="top"><strong>Number of positions</strong>
</td><td valign="top"><strong>Size of file/bytes</strong>
<br></td></tr><tr align="left"><td valign="top">1   </td><td valign="top">676         </td><td valign="top">19,968
<br></td></tr><tr align="left"><td valign="top">2   </td><td valign="top">123,201     </td><td valign="top">3,449,668
<br></td></tr><tr align="left"><td valign="top">3   </td><td valign="top">10,732,176  </td><td valign="top">300,500,968
   <br></td></tr></table>

   </body></html>

