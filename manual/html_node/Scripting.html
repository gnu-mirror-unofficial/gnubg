<html lang="en">
<head>
<title>GNU Backgammon</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Backgammon">
<meta name="generator" content="makeinfo 4.3">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
</head>
<body>
<div class="node">
<p>
Node:<a name="Scripting">Scripting</a>,
Next:<a rel="next" accesskey="n" href="Bearoff-databases.html#Bearoff%20databases">Bearoff databases</a>,
Previous:<a rel="previous" accesskey="p" href="Training.html#Training">Training</a>,
Up:<a rel="up" accesskey="u" href="index.html#Top">Top</a>
<hr><br>
</div>

<h2 class="chapter">Scripting</h2>

<h3 class="section">Accessing <tt>gnubg</tt> Python shell</h3>

   <p>To access the Python shell, either type <code>&gt;</code> from the command line
or select <code>Windows-&gt;Python Shell(IDLE...)</code> from the GUI.

<h3 class="section">gnubg module functions</h3>

     <dl>
<dt><code>board()</code>
     <dd><br><dt><code>command(cmd)</code>
     <dd><br><dt><code>evaluate()</code>
     <dd><br><dt><code>evalcontext()</code>
     <dd><br><dt><code>eq2mwc()</code>
     <dd><br><dt><code>mwc2eq()</code>
     <dd><br><dt><code>cubeinfo()</code>
     <dd><br><dt><code>met()</code>
     <dd><br><dt><code>positionid()</code>
     <dd><br><dt><code>positionfromid()</code>
     <dd><br><dt><code>positionkey()</code>
     <dd><br><dt><code>positionfromkey()</code>
     <dd><br><dt><code>positionbearoff()</code>
     <dd><br><dt><code>positionfrombearoff()</code>
     <dd><br><dt><code>navigate([next=</code><var>N</var><code>,[game=</code><var>N</var><code>]])</code>
     <dd>Match navigation.

     <p>Without any arguments, go to first move of first match.

     <p>With next == <var>N</var>, move forward <var>N</var> game records.

     <p>With game == <var>N</var>, move forward/backward <var>N</var> games.

     <p>Navigate never wraps around.

     <p>On success, returns <code>None</code>. If unable to complete the requsted
number of moves, returns a pair of <code>(next-remaining,game-remaining)</code>.

     <br><dt><code>match([analysis=1/0, boards=1/0, statistics=0/1, verbose=0/1])</code>
     <dd>
Return the current <a href="match.html#match">match</a>. For example,

     <pre class="example">          &gt; m = gnubg.match()
          </pre>

     <p>Takes the following optional keyword arguments:

          <dl>
<dt><code>analysis</code>
          <dd>When 0, discard analysis data. default is 1.

          <br><dt><code>boards</code>
          <dd>When 1, add current board to move/double records. Default is 1.

          <br><dt><code>statistics</code>
          <dd>When 1, include game and match statistics. Default is 0.

          <br><dt><code>verbose</code>
          <dd>When 1, include derived analysis values. Default is 0. 
</dl>
</dl>

   <p><a name="match"></a>

<h4 class="subsection">Match description</h4>

   <p><code>gnubg.match()</code> returns a dictionary containing the following
items:

     <dl>
<dt><code>match-info</code>
     <dd>General match info. <a href="match-info.html#match-info">match-info</a>
<br><dt><code>games</code>
     <dd>A sequence, one elemet per game. <a href="game.html#game">game</a>
<br><dt><code>stats (optional)</code>
     <dd>Match statistics. 
</dl>

   <p><a name="match-info"></a>

<h5 class="subsubsection">Match info</h5>

   <p>A dictionary containing the following items:

     <dl>
<dt><code>match-length</code>
     <dd>
<br><dt><code>variation</code>
     <dd>One of <code>Standard</code>,<code>Nackgammon</code>, <code>Hypergammon1</code>,
<code>Hypergammon2</code> or <code>Hypergammon3</code>.

     <br><dt><code>rules (optional)</code>
     <dd>Additional rules used. A subset of <code>NoCube</code>, <code>Crawford</code> and
<code>Jacoby</code>.

     <br><dt><code>X</code>
     <dd><dt><code>O</code>
     <dd>Per player information. Each a dictionary containing <code>rating</code> and
<code>name</code>. 
<br><dt><code>annotator (optional)</code>
     <dd><br><dt><code>round (optional)</code>
     <dd><br><dt><code>place (optional)</code>
     <dd><br><dt><code>date (optional)</code>
     <dd>Sequence of (Day,Month,Year). 
<br><dt><code>event (optional)</code>
     <dd><br><dt><code>default-eval-context</code>
     <dd>Default evaluation context. A dictionary in the same format as
returned by <code>evalcontext()</code>.

     <br><dt><code>default-rollout-context</code>
     <dd>Default rollout context. 
</dl>

   <p>Example,
<pre class="example">     &gt;&gt;&gt; m['match-info']
     {'match-length': 25, 'rules': ('Crawford',), 'default-eval-context': {'plies': 2, 'deterministic': 1, 'reduced': 0, 'noise': 0.0, 'cubeful': 1}, 'annotator': 'GNU 0.14', 'O': {'rating': '0 (Exp 0)', 'name': 'Moshe Tissona'}, 'round': 'Final', 'place': 'Monte Carlo', 'variation': 'Standard', 'default-rollout-context': {'n-truncation': 11, 'initial-position': 0, 'trials': 0, 'stop-on-std': 0, 'variance-reduction': 1, 'late-eval': 0, 'truncated-rollouts': 0, 'truncate-bearoff2': 1, 'cubeful': 1, 'truncate-bearoffOS': 1, 'seed': 1177750272, 'quasi-random-dice': 1, 'minimum-games': 144}, 'date': (13, 7, 2003), 'X': {'rating': '0 (Exp 0)', 'name': 'Jon Royset'}, 'event': 'World Championship 2003'}
     </pre>

   <p><a name="game"></a>

<h5 class="subsubsection">Python game</h5>

   <p>A dictionary containing the following items:

     <dl>
<dt><code>info</code>
     <dd>General game info. For example,
     <pre class="example">          &gt;&gt;&gt; m['games'][0]['info']
          {'points-won': 1, 'score-X': 0, 'score-O': 0, 'winner': 'X', 'resigned': False}
          </pre>

     <p>If no winner is specified, <code>winner</code> is <code>None</code>.

     <pre class="example">          &gt;&gt;&gt; m['games'][2]['info']
          {'score-X': 2, 'winner': None, 'score-O': 0}
          </pre>

     <br><dt><code>game</code>
     <dd>A Sequence of actions. <a href="actions.html#actions">actions</a>

     <br><dt><code>stats (optional)</code>
     <dd>Game statistics. Similar entries to <code>Analyse-&gt;Game statistics</code> from the
GUI. 
</dl>

   <p><a name="actions"></a>

<h5 class="subsubsection">Game actions</h5>

   <p>Each action is a dictionary

   </body></html>

