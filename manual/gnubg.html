<html lang="en">
<head>
<title>GNU Backgammon</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Backgammon">
<meta name="generator" content="makeinfo 4.3">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
</head>
<body>
<h1 class="settitle">GNU Backgammon</h1>
<div class="node">
<p><hr>
Node:<a name="Top">Top</a>,
Next:<a rel="next" accesskey="n" href="#Introduction">Introduction</a>,
Up:<a rel="up" accesskey="u" href="#dir">(dir)</a>
<br>
</div>

<h2 class="unnumbered">GNU Backgammon</h2>

   <p>This manual describes how to use GNU Backgammon to play and analyse
backgammon games and matches.  It corresponds to version 0.14.2-devel
(updated in October, 2003).

<ul class="menu">
<li><a accesskey="1" href="#Introduction">Introduction</a>: 			What is GNU Backgammon. 
<li><a accesskey="2" href="#For%20the%20impatient">For the impatient</a>: 			A short description how to use GNU Backgammon. 
<li><a accesskey="3" href="#How%20to%20play%20backgammon">How to play backgammon</a>: 		The rules of the game. 
<li><a accesskey="4" href="#Installing%20the%20software">Installing the software</a>: 		How to install GNU Backgammon under MS Windows, FreeBSD and Linux. 
<li><a accesskey="5" href="#Starting%20GNU%20Backgammon">Starting GNU Backgammon</a>: 		Starting the software using a terminal and the graphical user interface (GUI)
<li><a accesskey="6" href="#Playing%20backgammon">Playing backgammon</a>: 			How to play a game, match or session. 
<li><a accesskey="7" href="#Saving%20games">Saving games</a>: 			How to save your positions, games, matches and sessions. 
<li><a accesskey="8" href="#Opening%20files">Opening files</a>: 			How to open saved positions, games, matches and sessions. 
<li><a accesskey="9" href="#Import%20files">Import files</a>: 			Opening files from different formats. 
<li><a href="#Export%20files">Export files</a>: 			Saving files into different formats. 
<li><a href="#Settings">Settings</a>: 				Changing settings in GNU Backgammon. 
<li><a href="#Analysis%20and%20rollouts">Analysis and rollouts</a>: 		How to analyse positions, games, matches or sessions. 
<li><a href="#Position%20and%20match%20IDs">Position and match IDs</a>: 		A brief technical explanation. 
<li><a href="#Cubeful%20equities">Cubeful equities</a>:                     How do <tt>gnubg</tt> calculate cubeful equities. 
<li><a href="#Training">Training</a>: 				How to store databases and train the neural nets. 
<li><a href="#Scripting">Scripting</a>:                            How to use <tt>gnubg</tt> python scripting. 
<li><a href="#Bearoff%20databases">Bearoff databases</a>:                    How to generate bearoff databases for use with GNU Backgammon
<li><a href="#Absolute%20ratings">Absolute ratings</a>:                     How are the absolute ratings derived
<li><a href="#Additional%20documentation">Additional documentation</a>:             Links to other documentation regarding backgammon or GNU Backgammon
<li><a href="#GNU%20Free%20Documentation%20License">GNU Free Documentation License</a>: 	Your rights regarding this manual. 
<li><a href="#Command%20Index">Command Index</a>:                        Index of available commands
<li><a href="#Concept%20Index">Concept Index</a>:                        Index
</ul>

<div class="node">
<p><hr>
Node:<a name="Introduction">Introduction</a>,
Next:<a rel="next" accesskey="n" href="#For%20the%20impatient">For the impatient</a>,
Previous:<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Introduction</h2>

   <p>GNU Backgammon works on

     <ul>
<li>MS Windows operating systems
<li>Linux
<li>FreeBSD
<li>Solaris
<li>MacOS 10
</ul>

<br><p>
   <p>GNU Backgammon is available in different languages

     <ul>
<li>English
<li>German (nearly finished)
<li>Italian (3/4 finished)
<li>Japanese (2/3 finished)
<li>Danish (1/4 finished)
<li>Turkish (1/4 finished)
<li>Icelandic (1/4 finished)
<li>French (not ready yet)
</ul>

<br><p>
   <p>GNU Backgammon comes with

     <ul>
<li>A Graphical User Interface (GUI) with 2D- or 3D-Animation
<li>Including a selection of board designs to choose from
<li>Powerful but simple tools to change or create your own design
<li>You can choose colours, lighting, textures and even the perspective of the 3D board
<li>A command line modus (CLI) with support of the script language python
</ul>

<br><p>
   <p>With GNU Backgammon you may play

     <ul>
<li>backgammon, nackgammon or hypergammon
<li>games, matches or sessions (<tt>gnubg</tt> adjusts its play always to the match score)
</ul>

<br><p>
   <p>Gnubgs analysing functions allow you to

     <ul>
<li>get hints during the game
<li>evaluate positions
<li>use a tutor during the game
<li>use a "temperature map" which gives a graphical simple overview of the possible
results of the next dice roll
<li>analyse or rollout positions, games, matches or sessions (with probably the most
extensive controls to set speed and accuracy of any backgammon software)
</ul>

<br><p>
   <p>You can

     <ul>
<li>setup, edit and save positions, games, matches and sessions
<li>replay games, matches and sessions
<li>record annotations
<li>explore doubling windows, gammon prices and similar cube theory, valuable
for money games and essential for match play
<li>store error rates for different players
</ul>

<br><p>
   <p>GNU Backgammon imports matches and sessions from

     <ul>
<li>Fibs
<li>Gamesgrid
<li>TrueMoneygame
<li>Netgammon
<li>Snowie
<li>Jellyfish
</ul>

<br><p>
   <p>GNU Backgammon exports positions, games, matches and sessions into

     <ul>
<li>*.pos
<li>*.mat
<li>plain text
<li>different html formats
<li>png
<li>LaTeX
<li>(Encapsulated) Postscript
<li>PDF
</ul>

<br><p>
   <p>With GNU Backgammon you may choose between the following dice generators

     <ul>
<li>Manual dice settings
<li>from a file
<li>a dice generator created by the user
<li>Ansi
<li>Blum, Blum and Shub
<li>BSD
<li>ISAAC
<li>MD5
<li>Mersenne Twister
<li>www.random.org
</ul>

<br><p>
   <p>GNU Backgammon comes with several databases for handling bearoffs and
match equities, i.e.

     <ul>
<li>larger bearoff databases (to be generated)
<li>databases for 1/2/3-chequer hypergammon (to be generated)
<li>a selection of several Match Equity Tables (METs)
<li>an interface to Hugh Sconyers huge databases for races and bearoffs
</ul>

<br><p>
   <p>But don't forget ... GNU Backgammon is work in progress. Don't blame us if

     <ul>
<li>a feature isn't implemented yet
<li>a feature doesn't work correctly
<li><tt>gnubg</tt> crashes
<li>your system suffers after gnubg is installed
</ul>

<br><p>
   <p>Don't forget also ...

     <ul>
<li>it's free software (free as in "free speech", not in "free beer")
<li>we are all volunteers
<li>we need feedback and bug reports
<li>we need your help
</ul>

<div class="node">
<p><hr>
Node:<a name="For%20the%20impatient">For the impatient</a>,
Next:<a rel="next" accesskey="n" href="#How%20to%20play%20backgammon">How to play backgammon</a>,
Previous:<a rel="previous" accesskey="p" href="#Introduction">Introduction</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">For the impatient</h2>

<ul class="menu">
<li><a accesskey="1" href="#Installing%20the%20binaries">Installing the binaries</a>: 
<li><a accesskey="2" href="#Playing%20a%20game">Playing a game</a>: 
</ul>

<div class="node">
<p><hr>
Node:<a name="Installing%20the%20binaries">Installing the binaries</a>,
Next:<a rel="next" accesskey="n" href="#Playing%20a%20game">Playing a game</a>,
Up:<a rel="up" accesskey="u" href="#For%20the%20impatient">For the impatient</a>
<br>
</div>

<h3 class="section">Installing the binaries</h3>

<div class="node">
<p><hr>
Node:<a name="Playing%20a%20game">Playing a game</a>,
Previous:<a rel="previous" accesskey="p" href="#Installing%20the%20binaries">Installing the binaries</a>,
Up:<a rel="up" accesskey="u" href="#For%20the%20impatient">For the impatient</a>
<br>
</div>

<h3 class="section">Playing a game</h3>

<div class="node">
<p><hr>
Node:<a name="How%20to%20play%20backgammon">How to play backgammon</a>,
Next:<a rel="next" accesskey="n" href="#Installing%20the%20software">Installing the software</a>,
Previous:<a rel="previous" accesskey="p" href="#For%20the%20impatient">For the impatient</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">How to play backgammon</h2>

   <p>The rules presented in this chapter were written by Tom Keith for the
<a href="http://www.bkgm.com/">Backgammon Galore web site</a>, and are included
here with his permission.

<ul class="menu">
<li><a accesskey="1" href="#Rules%20of%20Backgammon">Rules of Backgammon</a>:          How to play the board game. 
<li><a accesskey="2" href="#Match%20Play">Match Play</a>:                   Special rules used in tournament matches. 
</ul>

<div class="node">
<p><hr>
Node:<a name="Rules%20of%20Backgammon">Rules of Backgammon</a>,
Next:<a rel="next" accesskey="n" href="#Match%20Play">Match Play</a>,
Up:<a rel="up" accesskey="u" href="#How%20to%20play%20backgammon">How to play backgammon</a>
<br>
</div>

<h3 class="section">Rules of Backgammon</h3>

<h4 class="subsection">Setup</h4>

   <p>Backgammon is a game for two players, played on a board consisting of
twenty-four narrow triangles called <dfn>points</dfn>. 
The triangles alternate in color and are grouped into four quadrants of
six triangles each. 
The quadrants are referred to as a player's
<dfn>home board</dfn> and
<dfn>outer board</dfn>, and the opponent's home board and outer board. 
The home and outer boards are separated from each other by a ridge down
the center of the board called the
<dfn>bar</dfn>.

   <p><table><tr align="left"><td valign="top"><img src="rulfig1.png" alt="rulfig1.png"> </td><td valign="top"><strong>Figure 1.</strong>  A board with the checkers
in their initial position.

<p>An alternate arrangement is the reverse of the one shown here, with the
home board on the left and the outer board on the right.
   <br></td></tr></table>

   <p>The points are numbered for either player starting in that player's home
board. 
The outermost point is the twenty-four point, which is also the opponent's
one point. 
Each player has fifteen checkers of his own color. 
The initial arrangement of checkers is:
two on each player's twenty-four point, five on each player's thirteen point,
three on each player's eight point, and five on each player's six point.

   <p>Both players have their own pair of dice and a dice cup used for shaking. 
A <dfn>doubling cube</dfn>, with the numerals 2, 4, 8, 16, 32, and 64 on its
faces, is used to keep track of the current stake of the game.

<h4 class="subsection">Object of the Game</h4>

   <p>The object of the game is for a player to move all of his checkers into
his own home board and then bear them off. 
The first player to bear off all of his checkers wins the game.

   <p><table><tr align="left"><td valign="top"><img src="rulfig2.png" alt="rulfig2.png"> </td><td valign="top"><strong>Figure 2.</strong>  Direction of movement of
White's checkers.  Red's checkers move in the opposite direction.
   <br></td></tr></table>

<h4 class="subsection">Movement of the Checkers</h4>

   <p>To start the game, each player throws a single die. 
This determines both the player to go first and the numbers to be played. 
If equal numbers come up, then both players roll again until they roll
different numbers. 
The player throwing the higher number now moves his checkers according to
the numbers showing on both dice. 
After the first roll, the players throw two dice and alternate turns.

   <p>The roll of the dice indicates how many points, or <dfn>pips</dfn>,
the player is to move his checkers. 
The checkers are always moved forward, to a lower-numbered point. 
The following rules apply:

     <ol type=1 start=1>
<li>A checker may be moved only to an <dfn>open point</dfn>, one that is not
occupied by two or more opposing checkers.

     <li>The numbers on the two dice constitute separate moves. 
For example, if a player rolls 5 and 3, he may move one checker five
spaces to an open point and another checker three spaces to an open
point, or he may move the one checker a total of eight spaces to an
open point, but only if the intermediate point (either three or five
spaces from the starting point) is also open.

     <p><table><tr align="left"><td valign="top"><img src="rulfig3.png" alt="rulfig3.png"> </td><td valign="top"><strong>Figure 3.</strong>  Two ways that White can
play a roll of 53.
     <br></td></tr></table>

     <li>A player who rolls doubles plays the numbers shown on the dice twice. 
A roll of 6 and 6 means that the player has four sixes to use, and he
may move any combination of checkers he feels appropriate to complete
this requirement.

     <li>A player must use both numbers of a roll if this is legally possible
(or all four numbers of a double). 
When only one number can be played, the player must play that number. 
Or if either number can be played but not both, the player must play
the larger one. 
When neither number can be used, the player loses his turn. 
In the case of doubles, when all four numbers cannot be played, the
player must play as many numbers as he can.
        </ol>

<h4 class="subsection">Hitting and Entering</h4>

   <p>A point occupied by a single checker of either color is called a
<dfn>blot</dfn>.  If an opposing checker lands on a blot, the blot is <dfn>hit</dfn>
and placed on the bar.

   <p>Any time a player has one or more checkers on the bar, his first obligation
is to
<dfn>enter</dfn> those checker(s) into the opposing home board. 
A checker is entered by moving it to an open point corresponding to one of
the numbers on the rolled dice.

   <p>For example, if a player rolls 4 and 6, he may enter a checker
onto either the opponent's four point or six point, so long as the
prospective point is not occupied by two or more of the opponent's checkers.

   <p><table><tr align="left"><td valign="top"><img src="rulfig4.png" alt="rulfig4.png"> </td><td valign="top"><strong>Figure 4.</strong>  If White rolls 64 with a
checker on the bar, he must enter the checker onto Red's four point
since Red's six point is not open.
   <br></td></tr></table>

   <p>If neither of the points is open, the player loses his turn. 
If a player is able to enter some but not all of his checkers, he must enter
as many as he can and then forfeit the remainder of his turn.

   <p>After the last of a player's checkers has been entered, any unused numbers
on the dice must be played, by moving either the checker that was entered
or a different checker.

<h4 class="subsection">Bearing Off</h4>

   <p>Once a player has moved all of his fifteen checkers into his home board,
he may commence <dfn>bearing off</dfn>. 
A player bears off a checker by rolling a number that corresponds to the
point on which the checker resides, and then removing that checker from
the board. 
Thus, rolling a 6 permits the player to remove a checker from the six point.

   <p>If there is no checker on the point indicated by the roll, the player
must make a legal move using a checker on a higher-numbered point. 
If there are no checkers on higher-numbered points, the player is
permitted (and required) to remove a checker from the highest point on
which one of his checkers resides. 
A player is under no obligation to bear off if he can make an otherwise
legal move.

   <p><table><tr align="left"><td valign="top"><img src="rulfig5.png" alt="rulfig5.png"> </td><td valign="top"><strong>Figure 5.</strong>  White rolls 64 and bears
off two checkers.
   <br></td></tr></table>

   <p>A player must have all of his active checkers in his home board in order
to bear off. 
If a checker is hit during the bear-off process, the player must bring
that checker back to his home board before continuing to bear off. 
The first player to bear off all fifteen checkers wins the game.

<h4 class="subsection">Doubling</h4>

   <p>Backgammon is played for an agreed stake per point. 
Each game starts at one point. 
During the course of the game, a player who feels he has a sufficient
advantage may propose doubling the stakes. 
He may do this only at the start of his own turn and before he has rolled
the dice.

   <p>A player who is offered a double may <dfn>refuse</dfn>, in which case he
concedes the game and pays one point. 
Otherwise, he must <dfn>accept</dfn> the double and play on for the new higher
stakes. 
A player who accepts a double becomes the
<dfn>owner of the cube</dfn> and only he may make the next double.

   <p>Subsequent doubles in the same game are called <dfn>redoubles</dfn>. 
If a player refuses a redouble, he must pay the number of points that were
at stake prior to the redouble. 
Otherwise, he becomes the new owner of the cube and the game continues
at twice the previous stakes. 
There is no limit to the number of redoubles in a game.

<h4 class="subsection">Gammons and Backgammons</h4>

   <p>At the end of the game, if the losing player has borne off at least one
checker, he loses only the value showing on the doubling cube (one point,
if there have been no doubles). 
However, if the loser has <em>not</em> borne off any of his checkers,
he is <dfn>gammoned</dfn> and loses <em>twice</em> the value of the doubling cube. 
Or, worse, if the loser has not borne off any of his checkers and still has
a checker on the bar or in the winner's home board, he is <dfn>backgammoned</dfn>
and loses <em>three times</em> the value of the doubling cube.

<h4 class="subsection">Optional Rules</h4>

   <p>The following optional rules are in widespread use.

     <dl>
<dt><dfn>Automatic doubles</dfn>
     <dd>If identical numbers are thrown on the first roll, the stakes are doubled. 
The doubling cube is turned to 2 and remains in the middle. 
Players usually agree to limit the number of automatic doubles to one per game.

     <br><dt><dfn>Beavers</dfn>
     <dd>When a player is doubled, he may immediately redouble (beaver) while
retaining possession of the cube. 
The original doubler has the option of accepting or refusing as with a
normal double.

     <br><dt><dfn>The Jacoby Rule</dfn>
     <dd>Gammons and backgammons count only as a single game if neither player has
offered a double during the course of the game. 
This rule speeds up play by eliminating situations where a player avoids
doubling so he can play on for a gammon. 
</dl>

<h4 class="subsection">Irregularities</h4>

     <ol type=1 start=1>
<li>The dice must be rolled together and land flat on the surface of the
right-hand section of the board. 
The player must reroll both dice if a die lands outside the right-hand
board, or lands on a checker, or does not land flat.

     <li>A turn is completed when the player picks up his dice. 
If the play is incomplete or otherwise illegal, the opponent has the option
of accepting the play as made or of requiring the player to make a legal play. 
A play is deemed to have been accepted as made when the opponent rolls his
dice or offers a double to start his own turn.

     <li>If a player rolls before his opponent has completed his turn by picking up
the dice, the player's roll is voided. 
This rule is generally waived any time a play is forced or when there is no
further contact between the opposing forces.
        </ol>

<div class="node">
<p><hr>
Node:<a name="Match%20Play">Match Play</a>,
Previous:<a rel="previous" accesskey="p" href="#Rules%20of%20Backgammon">Rules of Backgammon</a>,
Up:<a rel="up" accesskey="u" href="#How%20to%20play%20backgammon">How to play backgammon</a>
<br>
</div>

<h3 class="section">Rules for Match Play</h3>

   <p>When backgammon tournaments are held to determine an overall winner,
the usual style of competition is <dfn>match play</dfn>. 
Competitors are paired off, and each pair plays a series of games to decide
which player progresses to the next round of the tournament. 
This series of games is called a <dfn>match</dfn>.

   <p>Matches are played to a specified number of points. 
The first player to accumulate the required points wins the match. 
Points are awarded in the usual manner:
one for a single game, two for a gammon, and three for a backgammon. 
The doubling cube is used, so the winner receives the value of the game
multiplied by the final value of the doubling cube.

   <p>Matches are normally played using the
<dfn>Crawford rule</dfn>. 
The Crawford rule states that if one player reaches a score one point short
of the match, neither player may offer a double in the immediately following
game. 
This one game without doubling is called the Crawford game. 
Once the Crawford game has been played, if the match has not yet been decided, the doubling
cube is active again.

   <center><table width=406 border=0 cellspacing=0 cellpadding=1>
<tr><td colspan=2><font face="Arial,Helvetica"><b>Match to 5</b></font></td>    <td align=center><font size=2 face="Arial,Helvetica"><b>&nbsp;White&nbsp;</b></font></td>       <td align=center><font size=2 face="Arial,Helvetica"><b>&nbsp;Black&nbsp;</b></font></td><tr>
<tr><td colspan=6><img src="bar.png" border=0 width=402 height=3></td></tr>
<tr><td><b>Game 1:&nbsp;&nbsp;</b></td><td>White wins 2 points&nbsp;&nbsp;</td> <td align=center>2</td>         <td align=center>0</td> <td rowspan=3 valign=center><img src="rbrace3.png" width=9 height=52></td><td rowspan=3 valign=center><font size=2 face="Arial,Helvetica">&nbsp;Doubling Allowed</font></td></tr>
<tr><td><b>Game 2:</b></td><td>Black wins 1 point</td>  <td align=center>2</td>         <td align=center>1</td></tr>
<tr><td><b>Game 3:</b></td><td>White wins 2 points</td><td align=center>4</td>          <td align=center>1</td></tr>
<tr bgcolor=FFCC99><td><b>Game 4:</b></td><td>Black wins 1 point</td>   <td align=center>4</td>         <td align=center>2</td>         <td>&nbsp;</td><td><font size=2 face="Arial,Helvetica">&nbsp;Crawford Game</font></td></tr>
<tr><td><b>Game 5:</b></td><td>Black wins 2 points</td><td align=center>4</td>          <td align=center>4</td>         <td rowspan=2 valign=center><img src="rbrace2.png" width=9 height=34></td><td rowspan=2 valign=center><font size=2 face="Arial,Helvetica">&nbsp;Doubling Allowed</font></td></tr>
<tr><td><b>Game 6:</b></td><td>White wins 2 points</td><td align=center>6</td>          <td align=center>4</td></tr>
<tr><td colspan=6><img src="bar.png" border=0 width=402 height=3></td></tr>
</table></center>
<blockquote>
In this example, White and Black are playing a 5-point match. 
After three games White has 4 points, which is just one point
short of what he needs. 
That triggers the Crawford rule which says there can be no
doubling in next game, Game 4. 
</blockquote>

   <p>There is no bonus for winning more than the required number of points
in match play. 
The sole goal is to win the match, and the size of the victory doesn't matter.

   <p>Automatic doubles, beavers, and the Jacoby rule are not used in match play.

<div class="node">
<p><hr>
Node:<a name="Installing%20the%20software">Installing the software</a>,
Next:<a rel="next" accesskey="n" href="#Starting%20GNU%20Backgammon">Starting GNU Backgammon</a>,
Previous:<a rel="previous" accesskey="p" href="#How%20to%20play%20backgammon">How to play backgammon</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Installing the software</h2>

<ul class="menu">
<li><a accesskey="1" href="#Installing%20a%20MS%20Windows%20binary">Installing a MS Windows binary</a>: 
<li><a accesskey="2" href="#Installing%20a%20Linux%20rpm-package">Installing a Linux rpm-package</a>: 
<li><a accesskey="3" href="#Installing%20a%20FreeBSD%20package%20or%20port">Installing a FreeBSD package or port</a>: 
<li><a accesskey="4" href="#Compiling%20and%20installing%20the%20source">Compiling and installing the source</a>: 
</ul>

<div class="node">
<p><hr>
Node:<a name="Installing%20a%20MS%20Windows%20binary">Installing a MS Windows binary</a>,
Next:<a rel="next" accesskey="n" href="#Installing%20a%20Linux%20rpm-package">Installing a Linux rpm-package</a>,
Up:<a rel="up" accesskey="u" href="#Installing%20the%20software">Installing the software</a>
<br>
</div>

<h3 class="section">Installing a MS Windows binary</h3>

   <p>For an installation of GNU Backgammon on MS Windows operating systems
you need at least this build from <a href="http://www.gnubg.org/downloads/windows/">gnubg</a>. 
You'll find a file <code>setup.exe</code>, which is approximately 11 mb. If you want
daily builds, go to Nardy Pillards page at <a href="http://users.skynet.be/bk228456/GNUBgW.htm">http://users.skynet.be/bk228456/GNUBgW.htm</a>
and read his documentation carefully. If you download everything, you'll have these
packages:

     <ul>
<li>setup.exe (Oysteins installation archiv from 20030727, including everything you need)
<li>gnubg-old-[date]Zip.exe (Nardy's daily snapshot, no 3d-board, old layout)
<li>gnubg-[date]Zip.exe (Nardy's daily snapshot, with 3d-baord and new layout)
<li>board-3Dfiles.exe (Package needed for 3D-support)
<li>locale_[lang].exe (Nardy's language packages)
<li>gnubg_nogui-[date]Zip.exe (Nardy's daily snapshot without Graphical User Interface)
<li>libpython22Zip.exe (Package needed for python support in the "no gui" version)
</ul>

   <p>Nardy's builds include a daily snapshot of the <code>gnubg.exe</code> and some addons. If you like
daily builds, get either the "old layout", the "new layout" or the "no gui" binary (*.exe). 
You may also download a language package for Windows. Be aware, that the translation is still
work in progress. Only the english and the german translation are (nearly) fully available.

   <p><strong>Part I (Main program)</strong>: After downloading the software "doubleclick" on <code>setup.exe</code>. You
will be asked whether you want to install GNU Backgammon for windows. Click on <em>yes</em>. In
the following window accept the license agreement and click on <em>next</em>. Then choose a
directory where GNU Backgammon shall be installed. After this select the MS Windows menu
entry and whether or not a desktop and a quick launch icon shall be created.

   <p>The installation program will install all necessary files on your disk and finally ask you
whether GNU Backgammon shall be launched or not. Now you are ready to play.

   <p><strong>Part II (Daily snapshots)</strong>: If you like current snapshots, get the files from Nardy's
page at <a href="http://users.skynet.be/bk228456/GNUBgW.htm">http://users.skynet.be/bk228456/GNUBgW.htm</a>. The files <code>gnubg-[date]Zip.exe</code>
or <code>gnubg-old-[date]Zip.exe</code> contain only the binary <code>gnubg.exe</code>.

   <p>If you like the new style with panels and a 3D-board layout get <code>gnubg-[date]Zip.exe</code> and the
additional package <code>board-3Dfiles.exe</code>. Doubleclick on the file, select your installation
directory and click on <em>extract</em>. Be catious: the binary will now overwrite the "old" <code>gnubg.exe</code>.

   <p>For the old layout (seperate windows, no 3D-board) choose <code>gnubg-old-[date]Zip.exe</code>. 
You will now have a second program file in you GNU Backgammon directory called <code>gnubg-old.exe</code>.

   <p><strong>Part III (Support for different languages</strong>: If there is a package supporting your
native language, you may download this package also. Doubleclick on the <code>locale_[lang].exe</code>,
and the installer will put all necessary files into your GNU Backgammon directory. After
copying the files a README file will open with instructions how to activate the language.

   <p><strong>Part IV (Command Line Interface)</strong>: For using the "non-gui" version of GNU Backgammon you
only have to additionally install <code>gnubg_nogui-[date]Zip.exe</code>. Again doubleclick on the
binary <code>gnubg_nogui-[date]Zip.exe</code>. Be aware that possible older version of
<code>gnubg-no-gui.exe</code> will be overwritten. Accept the warning and click on <em>ok</em>. 
Choose the directory of your GNU Backgammon installation and click on <em>extract</em>.

   <p><strong>Part V (Additional python support)</strong>: If you need additional support for the scripting
language python you also have to install the package <code>libpython22Zip.exe</code>.

<div class="node">
<p><hr>
Node:<a name="Installing%20a%20Linux%20rpm-package">Installing a Linux rpm-package</a>,
Next:<a rel="next" accesskey="n" href="#Installing%20a%20FreeBSD%20package%20or%20port">Installing a FreeBSD package or port</a>,
Previous:<a rel="previous" accesskey="p" href="#Installing%20a%20MS%20Windows%20binary">Installing a MS Windows binary</a>,
Up:<a rel="up" accesskey="u" href="#Installing%20the%20software">Installing the software</a>
<br>
</div>

<h3 class="section">Installing a Linux rpm-package</h3>

   <p>Get the rpm packages from the Linux download section at
<a href="http://www.gnubg.org">GNU Backgammon webpage</a>. 
You'll need the main package <code>gnubg-[version].rpm</code>,
the databases <code>gnubg-databases.rpm</code> and the sound
packages <code>gnubg-sound.rpm</code>. As root do a

<pre class="example">     #: rpm -ihv gnubg*.rpm
     </pre>

   <p>If you want to update GNU Backgammon you will mostly need
only the new main package. Then you can update <tt>gnubg</tt> with

<pre class="example">     #: rpm -Uhv gnubg-[version].rpm
     </pre>

   <p>Some people like to compile GNU Backgammon from the source-rpms. 
In this case you have to download the package <code>gnubg-[version].src.rpm</code>. 
As root do a

<pre class="example">     #: rpm --rebuild gnubg-[version].src.rpm
     </pre>

   <p>For people who want to verify the packages we put a public key on
<a href="www.acepoint.de/pubkey_ace.asc">public key ace</a>. Download the
key and import it with

<pre class="example">     #: gpg --import pubkey_ace.asc
     #: rpm --verify [package] (for rpm version 3)
     
     or
     
     #: rpm --import pubkey_ace.asc
     #: rpm --checksig [package] (for rpm version 4)
     </pre>

<div class="node">
<p><hr>
Node:<a name="Installing%20a%20FreeBSD%20package%20or%20port">Installing a FreeBSD package or port</a>,
Next:<a rel="next" accesskey="n" href="#Compiling%20and%20installing%20the%20source">Compiling and installing the source</a>,
Previous:<a rel="previous" accesskey="p" href="#Installing%20a%20Linux%20rpm-package">Installing a Linux rpm-package</a>,
Up:<a rel="up" accesskey="u" href="#Installing%20the%20software">Installing the software</a>
<br>
</div>

<h3 class="section">Installing a FreeBSD package or port</h3>

   <p>fixme

<div class="node">
<p><hr>
Node:<a name="Compiling%20and%20installing%20the%20source">Compiling and installing the source</a>,
Previous:<a rel="previous" accesskey="p" href="#Installing%20a%20FreeBSD%20package%20or%20port">Installing a FreeBSD package or port</a>,
Up:<a rel="up" accesskey="u" href="#Installing%20the%20software">Installing the software</a>
<br>
</div>

<h3 class="section">Compiling and installing the source</h3>

   <p>Download the sources from <a href="http://www.acepoint.de/GnuBG/sources/">GNU Backgammon sources</a>. 
We try to put daily snapshots there. Be aware, that these sources may not compile!

   <p>Unzip and untar the sources and change into the source directory:

<pre class="example">     #: tar -xzvf gnubg-[version].tar.gz
     #: cd gnubg-[version]
     </pre>

   <p>Copy at least the file <code>gnubg.weights</code> into the source directory. Then do a

<pre class="example">     #: aclocal -I m4
     #: autoconf
     #: automake --add-missing
     #: ./configure
     #: make
     #: make install
     </pre>

   <p>The first three commands may not be necessary depending on your system. The command
<code>./configure</code> includes some options you may like to use. You can get all options
with

<pre class="example">     #: ./configure --help
     </pre>

<div class="node">
<p><hr>
Node:<a name="Starting%20GNU%20Backgammon">Starting GNU Backgammon</a>,
Next:<a rel="next" accesskey="n" href="#Playing%20backgammon">Playing backgammon</a>,
Previous:<a rel="previous" accesskey="p" href="#Installing%20the%20software">Installing the software</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Starting GNU Backgammon</h2>

<ul class="menu">
<li><a accesskey="1" href="#The%20graphical%20interface">The graphical interface</a>: 
<li><a accesskey="2" href="#Using%20a%20terminal">Using a terminal</a>: 
</ul>

<div class="node">
<p><hr>
Node:<a name="The%20graphical%20interface">The graphical interface</a>,
Next:<a rel="next" accesskey="n" href="#Using%20a%20terminal">Using a terminal</a>,
Up:<a rel="up" accesskey="u" href="#Starting%20GNU%20Backgammon">Starting GNU Backgammon</a>
<br>
</div>

<h3 class="section">The graphical interface</h3>

<div class="node">
<p><hr>
Node:<a name="Using%20a%20terminal">Using a terminal</a>,
Previous:<a rel="previous" accesskey="p" href="#The%20graphical%20interface">The graphical interface</a>,
Up:<a rel="up" accesskey="u" href="#Starting%20GNU%20Backgammon">Starting GNU Backgammon</a>
<br>
</div>

<h3 class="section">Using a terminal</h3>

<div class="node">
<p><hr>
Node:<a name="Playing%20backgammon">Playing backgammon</a>,
Next:<a rel="next" accesskey="n" href="#Saving%20games">Saving games</a>,
Previous:<a rel="previous" accesskey="p" href="#Starting%20GNU%20Backgammon">Starting GNU Backgammon</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Playing backgammon</h2>

<ul class="menu">
<li><a accesskey="1" href="#Starting%20a%20game%20or%20match%20or%20session">Starting a game or match or session</a>: 
<li><a accesskey="2" href="#Moving%20the%20checkers">Moving the checkers</a>: 
<li><a accesskey="3" href="#Using%20the%20doubling%20cube">Using the doubling cube</a>: 
</ul>

<div class="node">
<p><hr>
Node:<a name="Starting%20a%20game%20or%20match%20or%20session">Starting a game or match or session</a>,
Next:<a rel="next" accesskey="n" href="#Moving%20the%20checkers">Moving the checkers</a>,
Up:<a rel="up" accesskey="u" href="#Playing%20backgammon">Playing backgammon</a>
<br>
</div>

<h3 class="section">Starting a game or match or session</h3>

<div class="node">
<p><hr>
Node:<a name="Moving%20the%20checkers">Moving the checkers</a>,
Next:<a rel="next" accesskey="n" href="#Using%20the%20doubling%20cube">Using the doubling cube</a>,
Previous:<a rel="previous" accesskey="p" href="#Starting%20a%20game%20or%20match%20or%20session">Starting a game or match or session</a>,
Up:<a rel="up" accesskey="u" href="#Playing%20backgammon">Playing backgammon</a>
<br>
</div>

<h3 class="section">Moving the checkers</h3>

<div class="node">
<p><hr>
Node:<a name="Using%20the%20doubling%20cube">Using the doubling cube</a>,
Previous:<a rel="previous" accesskey="p" href="#Moving%20the%20checkers">Moving the checkers</a>,
Up:<a rel="up" accesskey="u" href="#Playing%20backgammon">Playing backgammon</a>
<br>
</div>

<h3 class="section">Using the doubling cube</h3>

<div class="node">
<p><hr>
Node:<a name="Saving%20games">Saving games</a>,
Next:<a rel="next" accesskey="n" href="#Opening%20files">Opening files</a>,
Previous:<a rel="previous" accesskey="p" href="#Playing%20backgammon">Playing backgammon</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Saving games</h2>

<ul class="menu">
<li><a accesskey="1" href="#Saving%20a%20game">Saving a game</a>: 
<li><a accesskey="2" href="#Saving%20a%20match">Saving a match</a>: 
<li><a accesskey="3" href="#Saving%20a%20session">Saving a session</a>: 
<li><a accesskey="4" href="#Saving%20a%20position">Saving a position</a>: 
</ul>

<div class="node">
<p><hr>
Node:<a name="Saving%20a%20game">Saving a game</a>,
Next:<a rel="next" accesskey="n" href="#Saving%20a%20match">Saving a match</a>,
Up:<a rel="up" accesskey="u" href="#Saving%20games">Saving games</a>
<br>
</div>

<h3 class="section">Saving a game</h3>

<div class="node">
<p><hr>
Node:<a name="Saving%20a%20match">Saving a match</a>,
Next:<a rel="next" accesskey="n" href="#Saving%20a%20session">Saving a session</a>,
Previous:<a rel="previous" accesskey="p" href="#Saving%20a%20game">Saving a game</a>,
Up:<a rel="up" accesskey="u" href="#Saving%20games">Saving games</a>
<br>
</div>

<h3 class="section">Saving a match</h3>

<div class="node">
<p><hr>
Node:<a name="Saving%20a%20session">Saving a session</a>,
Next:<a rel="next" accesskey="n" href="#Saving%20a%20position">Saving a position</a>,
Previous:<a rel="previous" accesskey="p" href="#Saving%20a%20match">Saving a match</a>,
Up:<a rel="up" accesskey="u" href="#Saving%20games">Saving games</a>
<br>
</div>

<h3 class="section">Saving a session</h3>

<div class="node">
<p><hr>
Node:<a name="Saving%20a%20position">Saving a position</a>,
Previous:<a rel="previous" accesskey="p" href="#Saving%20a%20session">Saving a session</a>,
Up:<a rel="up" accesskey="u" href="#Saving%20games">Saving games</a>
<br>
</div>

<h3 class="section">Saving a position</h3>

<div class="node">
<p><hr>
Node:<a name="Opening%20files">Opening files</a>,
Next:<a rel="next" accesskey="n" href="#Import%20files">Import files</a>,
Previous:<a rel="previous" accesskey="p" href="#Saving%20games">Saving games</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Opening files</h2>

<ul class="menu">
<li><a accesskey="1" href="#Opening%20a%20game">Opening a game</a>: 
<li><a accesskey="2" href="#Opening%20a%20match">Opening a match</a>: 
<li><a accesskey="3" href="#Opening%20a%20session">Opening a session</a>: 
<li><a accesskey="4" href="#Opening%20a%20position">Opening a position</a>: 
</ul>

<div class="node">
<p><hr>
Node:<a name="Opening%20a%20game">Opening a game</a>,
Next:<a rel="next" accesskey="n" href="#Opening%20a%20match">Opening a match</a>,
Up:<a rel="up" accesskey="u" href="#Opening%20files">Opening files</a>
<br>
</div>

<h3 class="section">Opening a game</h3>

<div class="node">
<p><hr>
Node:<a name="Opening%20a%20match">Opening a match</a>,
Next:<a rel="next" accesskey="n" href="#Opening%20a%20session">Opening a session</a>,
Previous:<a rel="previous" accesskey="p" href="#Opening%20a%20game">Opening a game</a>,
Up:<a rel="up" accesskey="u" href="#Opening%20files">Opening files</a>
<br>
</div>

<h3 class="section">Opening a match</h3>

<div class="node">
<p><hr>
Node:<a name="Opening%20a%20session">Opening a session</a>,
Next:<a rel="next" accesskey="n" href="#Opening%20a%20position">Opening a position</a>,
Previous:<a rel="previous" accesskey="p" href="#Opening%20a%20match">Opening a match</a>,
Up:<a rel="up" accesskey="u" href="#Opening%20files">Opening files</a>
<br>
</div>

<h3 class="section">Opening a session</h3>

<div class="node">
<p><hr>
Node:<a name="Opening%20a%20position">Opening a position</a>,
Previous:<a rel="previous" accesskey="p" href="#Opening%20a%20session">Opening a session</a>,
Up:<a rel="up" accesskey="u" href="#Opening%20files">Opening files</a>
<br>
</div>

<h3 class="section">Opening a position</h3>

<div class="node">
<p><hr>
Node:<a name="Import%20files">Import files</a>,
Next:<a rel="next" accesskey="n" href="#Export%20files">Export files</a>,
Previous:<a rel="previous" accesskey="p" href="#Opening%20files">Opening files</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Import files</h2>

   <p><tt>gnubg</tt> can import matches produced by various other programs or
online servers. For example, you can import matches played on
<a href="http://www.gamesgrid.com/">GamesGrid</a> or
<a href="http://www.fibs.com/">FIBS</a>. <tt>gnubg</tt> can export positions,
matches, or money session to a number of formats; some suitable for
printing, some suitable for including in emails or Usenet postings,
and others suitable for publishing on the world wide web or for
posting to backgammon forums.

   <p>The following sections describe how to import and export positions,
matches, and sessions with <tt>gnubg</tt>.

<h4 class="subsection">Jellyfish .pos</h4>

   <p><tt>gnubg</tt> can import positions in
<a href="http://jelly.effect.no/">Jellyfish</a>
.pos format. To import a position
file using the GUI select a file from <code>File-&gt;Import-&gt;.pos
position</code>.

   <p>The .pos position format is documented at
<a href="http://jelly.effect.no/fspec.htm">The Jellyfish Position File Format</a>.

<h4 class="subsection">Jellyfish .mat</h4>

   <p><tt>gnubg</tt> can also import matches and money sessions in the .mat
format. This format is often used to move games between different
programs, as most programs (e.g., Jellyfish, Snowie, BGBlitz, and
others) support import and export of this format.

   <p>To import a match or money session in the .mat format, select a file
from <code>File-&gt;Import-&gt;.mat match</code>.

   <p>Note that at least one program (BBGT) is known to write multiple matches in
the same .mat file. In this case <tt>gnubg</tt> will only read the first
match. If you wish to import all matches from such a .mat file, you'll
manually have to split the file into files containing the individual
matches.

<h4 class="subsection">GamesGrid .sgg</h4>

   <p><tt>gnubg</tt> can import matches and money sessions played on GamesGrid if
saved in the SGG format. Currently, <tt>gnubg</tt> doesn't support import of
the native undocumented .cbg format. Also note
that <tt>gnubg</tt> does not analyse table stakes, so imported money
sessions will be analysed as a normal money session.

   <p>To import an SGG file using the GUI select a file using the menu entry
<code>File-&gt;Import-&gt;.sgg match</code>.

<h4 class="subsection">FIBS oldmoves</h4>

   <p><tt>gnubg</tt> can import matches and money sessions from FIBS
in the oldmoves format. Most of the GUIs for playing on FIBS supports
saving of matches either in the oldmoves format or in Jellyfish .mat
format.

   <p>To import an oldmoves file using the GUI select a file using the menu
entry <code>File-&gt;Import-&gt;FIBS oldmoves</code>.

   <p>Note that <tt>gnubg</tt> will only read the first match in the file. If you
wish to import all matches from a file containing more than more game,
you'll manually have to split it.

<h4 class="subsection">TrueMoneyGames .tmg</h4>

   <p><tt>gnubg</tt> can also import matches and money sessions played on
TrueMoneyGames saved in the TMG format (file suffix .tmg). Please note
that <tt>gnubg</tt> does not analyse table stakes, so imported money
sessions will be analysed as a normal money session.

   <p>To import an TMG file using the GUI select a file using the menu entry
<code>File-&gt;Import-&gt;TrueMoneyGames .tmg match</code>.

<h4 class="subsection">Hans Berliner BKG format</h4>

   <p>Matches written in the Hans Berliner BKG format can be imported into
<tt>gnubg</tt>. To import an BKG file using the GUI select a file using the
menu entry <code>File-&gt;Import-&gt;BKG session</code>.

<h4 class="subsection">Snowie .txt position format</h4>

   <p><tt>gnubg</tt> can import positions written in the Snowie .txt position
format. Please note that very important distinction between
<em>Snowie .txt position</em> and <em>Snowie Standard Text</em>. The
former is used for position and the latter is an extension of the
Jellyfish .mat format, and can be imported in <tt>gnubg</tt> using the .mat
importer.

   <p><tt>gnubg</tt> can also export positions to Snowie .txt format for easy
exchange of positions with Snowie users.

   <p>To import an Snowie .txt position file using the GUI select a file
using the menu entry <code>File-&gt;Import-&gt;Snowie .txt position file</code>.

<h4 class="subsection">Batch import</h4>

   <p><tt>gnubg</tt> doesn't support batch import and analysis using the GUI, but
batch import is possible with the command line version of <tt>gnubg</tt>.

   <p>Under Unix execute:

   <p><code>gnubg -t &lt; </code><var>input-file</var><code> &gt; </code><var>output-file</var><code></code>

   <p>Under Windows it depends on how your version of gnubg was build. For
example, if you use the build by Øystein Johansen you should execute

   <p><code>gnubg-no-gui.exe &lt; </code><var>input-file</var><code> &gt; </code><var>output-file</var><code></code>

   <p>The <var>input-file</var> must be carefully prepared. For example, it
could look like:

<pre class="example">     import sgg file1.sgg
     analyse match
     save match file1.sgf
     import sgg file2.sgg
     analyse match
     save match file1.sgf
     import mat file3.mat
     analyse match
     save match file3.sgf
     </pre>

   <p>If you wish to adjust your setting for the analysis you can include
commands like:

<pre class="example">     set analysis chequerplay evaluation plies 2
     set analysis cubedecision evaluation plies 3
     [...]
     </pre>

   <p>See the command reference for further details regarding the commands
available in <tt>gnubg</tt>.

<h4 class="subsection">Other formats</h4>

   <p>There are a number of utilities written that can read and write
positions, matches, and money sessions in other formats than the ones
<tt>gnubg</tt> has direct support for.

   <a href="http://www.wingflyer.com/zoneutilities/">Bunny's Zone Converter</a>
can be used to convert matches saved on MSN Gaming Zone to Jellyfish
.mat format which can be imported into <tt>gnubg</tt>.

   <p>The neural net backgammon program
<a href="http://www.bgblitz.com/">BGBlitz</a> can read Gamesgrid .cbg, FIBS/W
logfiles, MacFIBS logfiles and other formats which can be written back
in the .mat format for importing into <tt>gnubg</tt>.

<h4 class="subsection">Tips and tricks</h4>

   <p>If you want to exchange the playes, i.e., <tt>gnubg</tt> has imported you as
the top player rather than the bottom player, select them menu entry
<code>Game-&gt;Swap Players</code>.

<div class="node">
<p><hr>
Node:<a name="Export%20files">Export files</a>,
Next:<a rel="next" accesskey="n" href="#Settings">Settings</a>,
Previous:<a rel="previous" accesskey="p" href="#Import%20files">Import files</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Export files</h2>

<h4 class="subsection">Export game in Jellyfish .gam</h4>

   <p>You can export the current game in the Jellyfish .gam format. This is
useful if you wish import a specific game into Jellyfish. Other
programs may read the file as well, since the format is identical to
the Jellyfish .mat format.

   <blockquote>
<strong>export game gam </strong><var>filename</var><strong></strong>:
Export the current game in Jellyfish .gam format to <var>filename</var>.
        </blockquote>

<h4 class="subsection">Export positions, games, matches and sessions in HTML</h4>

   <p><tt>gnubg</tt> can export the current position, game, match or session
in HTML if
you wish to publish it on the web. A
<a href="http://home.online.no/~oeysteij/wc2002/final.html">sample match</a>
with the World Cup Final 2002 from Monte Carlo is available for
viewing (FIXME: put a match on gnu.org or gnubg.org instead).

   <p><tt>gnubg</tt> exports in validating
<a href="http://www.w3.org/TR/xhtml1/">XHTML 1.0</a>
with the use of
<a href="http://www.w3.org/TR/REC-CSS1">CSS</a>
style sheets. You may add your own style sheet to the exported HTML
files if you wish to override the default layout, e.g., change colors
or fonts.

   <p>The board is made up from hundreds of pictures. Currently, you can
choose between three different sets of pictures: (a) the BBS images used
by Kit Woolsey's
<a href="http://www.GammOnLine.com">GammOnLine</a> e-magazine,
<a href="http://www.dbgf.dk/">Danish Backgammon Federation's</a> web-based
discussion group and others,
(b) the fibs2html images used by the Joseph Heled's
program <a href="http://fibs2html.sourceforge.net/">fibs2html</a>, and (c)
images generated by <tt>gnubg</tt> itself. The images generated by <tt>gnubg</tt>
will have the same design as your current design, and honours your
settings on clockwise or anti-clockwise movement and board numbering (on,
off, dynamic).

   <p>If you export a match or session to HTML <tt>gnubg</tt> will write the
individual games to separate files. For example, if you export to file
<code>foo.html</code> the first game is exported to <code>foo.html</code>, the
second game to <code>foo_002.html</code>, the third game to
<code>foo_003.html</code> and so forth.

   <p>The output from the HTML export can be customised. For example, it's
possible to leave out the
analysis or parts of the analysis. Also, you may enter a specific URL
to the pictures used to compose the board which is useful for posting
positions on web-based discussion groups such as Kit Woolsey's
<a href="http://www.GammOnLine.com">GammOnLine</a>,
the
<a href="http://www.dbgf.dk/">Danish Backgammon Federation's</a>
<a href="http://www.dbgf.dk/Debat/">Debat Forum</a>, or you may opt to use a
default set of images available from the <tt>gnubg</tt> web site at
<a href="http://www.gnubg.org/html-images/">FIXME Add images to www.gnubg.org!</a>.

   <p>See <a href="#Export">Export</a>, for full details regarding the options available for
HTML export.

<h5 class="subsubsection">Description of the CSS stylesheet</h5>

   <p>As mentioned above <tt>gnubg</tt> writes a CSS stylesheet along with the
generated XHTML file. The CSS stylesheet may be written verbatim in the
header section of the XHTML file, to an external file named
<code>gnubg.css</code>, or inside the tags using the
<code>style</code> attribute. If you wish to make any modifications to the
stylesheet without modifying the actual source code of <tt>gnubg</tt> you
have to choose one of the first two methods. Note that the special
export for Kit Woolsey's
<a href="http://www.GammOnLine.com">GammOnLine</a> uses the third method
since the XHTML is pasted into a web page without the possibility to
modify the header section of the page where the style sheet is
defined. Thus, it's not possible to modify the style of the generated
XHTML for GammOnLine without modifications of the source code or
extensive <em>search and replace</em> in the geneated XHTML.

   <p>Below follows a description of the CSS classes used in the XHTML
export:

   <p><table><tr align="left"><td valign="top">Class
</td><td valign="top">Description
<br></td></tr><tr align="left"><td valign="top">.movetable
</td><td valign="top">Style applied to the entire table used for the move analysis
<br></td></tr><tr align="left"><td valign="top">.moveheader
</td><td valign="top">The header of the move analysis table
<br></td></tr><tr align="left"><td valign="top">.movenumber
</td><td valign="top">The rank number of a move in the move analysis
<br></td></tr><tr align="left"><td valign="top">.moveply
</td><td valign="top">The column indicating the number of plies or rollout
<br></td></tr><tr align="left"><td valign="top">.movemove
</td><td valign="top">The formatted move, e.g., 13/7 8/7. 
<br></td></tr><tr align="left"><td valign="top">.moveequity
</td><td valign="top">The column with the equity or MWC. 
<br></td></tr><tr align="left"><td valign="top">.movethemove
</td><td valign="top">Special style for row that contains the actual move chosen by the player
<br></td></tr><tr align="left"><td valign="top">.moveodd
</td><td valign="top">Special style for the odd rows. Can be used to give an
alternating color for the rows. 
<br></td></tr><tr align="left"><td valign="top">.percent
</td><td valign="top">Style for the game winning probabilities and equities in the move
analysis. 
<br></td></tr><tr align="left"><td valign="top">.blunder
</td><td valign="top">Emphasize blunders, e.g., "Alert: missed double" or "Alert:
bad move". 
<br></td></tr><tr align="left"><td valign="top">.joker
</td><td valign="top">Emphasize very good or bad rolls, e.g., "Alert: unlucky roll". 
<br></td></tr><tr align="left"><td valign="top">.stattable
</td><td valign="top">The style applied to the entire table with game, match, and
session statistics
<br></td></tr><tr align="left"><td valign="top">.stattableheader
</td><td valign="top">The header row of the statistics table
<br></td></tr><tr align="left"><td valign="top">.result
</td><td valign="top">Style for the text indicating the outcome of the game or match,
e.g., "Joern Thyssen wins 16 points". 
<br></td></tr><tr align="left"><td valign="top">.tiny
</td><td valign="top">Currently unsued. 
<br></td></tr><tr align="left"><td valign="top">.cubedecision
</td><td valign="top">The style applied to the entire cube decision table
<br></td></tr><tr align="left"><td valign="top">.cubedecisionheader
</td><td valign="top">Style for the header row of the cube decision table
<br></td></tr><tr align="left"><td valign="top">.cubeequity
</td><td valign="top">Style for any equity or MWC in the cube decision table
<br></td></tr><tr align="left"><td valign="top">.cubeaction
</td><td valign="top">Style for the text indicating the correct cube action
<br></td></tr><tr align="left"><td valign="top">.cubeply
</td><td valign="top">Style for the text that states the level of evaluation
<br></td></tr><tr align="left"><td valign="top">.cubeprobs
</td><td valign="top">Style for the game winning probabilities in the cube decision
table
<br></td></tr><tr align="left"><td valign="top">.comment
</td><td valign="top">The style applied to the entire table used for annotations or
comments, e.g., the kibitzing from imported SGG files
<br></td></tr><tr align="left"><td valign="top">.commentheader
</td><td valign="top">The style applied to the header row of the annotations' table
<br></td></tr><tr align="left"><td valign="top">.number
</td><td valign="top">Currently unsued
<br></td></tr><tr align="left"><td valign="top">.fontfamily
</td><td valign="top">Style applied to the entire body of the XHTML document. 
<br></td></tr><tr align="left"><td valign="top">.block
</td><td valign="top">Style applied to the images in the export to avoid gaps between
individual pictures both horisontally and vertically. 
<br></td></tr><tr align="left"><td valign="top">.positionid
</td><td valign="top">Style for the Position ID and match ID.
   <br></td></tr></table>

   <blockquote>
<strong>export position html </strong><var>filename</var><strong></strong>:
Export the current position in HTML to <var>filename</var>.

        <p><strong>export game html </strong><var>filename</var><strong></strong>:
Export the current game in HTML to <var>filename</var>.

        <p><strong>export match html </strong><var>filename</var><strong></strong>:
Export the current match in HTML to <var>filename</var>.

        <p><strong>export session html </strong><var>filename</var><strong></strong>:
Export the current session in HTML to <var>filename</var>.
        </blockquote>

<h4 class="subsection">Export games, matches, and sessions in LaTeX</h4>

   <p>writeme

<h4 class="subsection">Export match or session in Jellyfish .mat</h4>

   <p>You can export an entire match or session into Jellyfish .mat
format. This is very useful if you want to import a match or session
into other programs as most other backgammon programs are
able to read it.

   <blockquote>
<strong>export match mat </strong><var>filename</var><strong></strong>: export the match in
Jellyfish .mat format to <var>filename</var>.
        </blockquote>

<h4 class="subsection">Export games, matches, and sessions in PDF</h4>

   <p>writeme

<h4 class="subsection">Export games, matches, and sessions in PostScript</h4>

   <p>writeme

<h4 class="subsection">Export position in Jellyfish .pos</h4>

   <p>writeme

<h4 class="subsection">Export position in Snowie .txt position format</h4>

   <p>writeme

<h4 class="subsection">Export positions, games, matches, and sessions in plain text</h4>

<div class="node">
<p><hr>
Node:<a name="Settings">Settings</a>,
Next:<a rel="next" accesskey="n" href="#Analysis%20and%20rollouts">Analysis and rollouts</a>,
Previous:<a rel="previous" accesskey="p" href="#Export%20files">Export files</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Settings</h2>

<ul class="menu">
<li><a accesskey="1" href="#Player">Player</a>: 
<li><a accesskey="2" href="#Appearance">Appearance</a>: 
<li><a accesskey="3" href="#Options">Options</a>: 
<li><a accesskey="4" href="#Advanced%20options">Advanced options</a>: 
<li><a accesskey="5" href="#Evaluation">Evaluation</a>: 
<li><a accesskey="6" href="#Analysis">Analysis</a>: 
<li><a accesskey="7" href="#Rollouts">Rollouts</a>: 
<li><a accesskey="8" href="#Export">Export</a>: 
</ul>

<div class="node">
<p><hr>
Node:<a name="Player">Player</a>,
Next:<a rel="next" accesskey="n" href="#Appearance">Appearance</a>,
Up:<a rel="up" accesskey="u" href="#Settings">Settings</a>
<br>
</div>

<h3 class="section">Player</h3>

<div class="node">
<p><hr>
Node:<a name="Appearance">Appearance</a>,
Next:<a rel="next" accesskey="n" href="#Options">Options</a>,
Previous:<a rel="previous" accesskey="p" href="#Player">Player</a>,
Up:<a rel="up" accesskey="u" href="#Settings">Settings</a>
<br>
</div>

<h3 class="section">Appearance</h3>

<div class="node">
<p><hr>
Node:<a name="Options">Options</a>,
Next:<a rel="next" accesskey="n" href="#Advanced%20options">Advanced options</a>,
Previous:<a rel="previous" accesskey="p" href="#Appearance">Appearance</a>,
Up:<a rel="up" accesskey="u" href="#Settings">Settings</a>
<br>
</div>

<h3 class="section">Options</h3>

<div class="node">
<p><hr>
Node:<a name="Advanced%20options">Advanced options</a>,
Next:<a rel="next" accesskey="n" href="#Evaluation">Evaluation</a>,
Previous:<a rel="previous" accesskey="p" href="#Options">Options</a>,
Up:<a rel="up" accesskey="u" href="#Settings">Settings</a>
<br>
</div>

<h3 class="section">Advanced options</h3>

<div class="node">
<p><hr>
Node:<a name="Evaluation">Evaluation</a>,
Next:<a rel="next" accesskey="n" href="#Analysis">Analysis</a>,
Previous:<a rel="previous" accesskey="p" href="#Advanced%20options">Advanced options</a>,
Up:<a rel="up" accesskey="u" href="#Settings">Settings</a>
<br>
</div>

<h3 class="section">Evaluation</h3>

<h4 class="subsection">Movefilters</h4>

   <p><tt>gnubg</tt> uses a technique called "move filters" in order to prune
the complete list of legal moves when analysing chequer play
decisions. Move filters can be considering a generalising of the
search space used in earlier versions of <tt>gnubg</tt>.

   <p>A move filter for a given ply, say, 2-ply, consists of four parameters
for each subply:
     <ol type=1 start=1>
<li>whether to analyse at all at this subply,
<li>the number of moves always accepted at the given level,
<li>the number of extra moves to add,
<li>the threshold for adding extra moves.
        </ol>

   <p>For example, for 2-ply chequer play decisions there are two
movefilters: one for pruning at 0-ply, and another for pruning at
1-ply. The predefined setting "Normal" has: accept 0 moves and add
up to 8 moves within 0.16 at 0-ply, and no pruning at 1-ply.

   <p>Consider the opening position where 6-2 has been rolled:
<pre class="example">      GNU Backgammon  Position ID: 4HPwATDgc/ABMA
                      Match ID   : cAkZAAAAAAAA
      +13-14-15-16-17-18------19-20-21-22-23-24-+     O: gnubg
      | X           O    |   | O              X |     0 points
      | X           O    |   | O              X |
      | X           O    |   | O                |
      | X                |   | O                |
      | X                |   | O                |
     v|                  |BAR|                  |     (Cube: 1)
      | O                |   | X                |
      | O                |   | X                |
      | O           X    |   | X                |
      | O           X    |   | X              O |     Rolled 24
      | O           X    |   | X              O |     0 points
      +12-11-10--9--8--7-------6--5--4--3--2--1-+     X: jth
     Pip counts: O 167, X 167
     </pre>

   <p><tt>gnubg</tt> starts by finding all possible moves and evaluate those at
0-ply:
<pre class="example">         1. Cubeful 0-ply    8/4 6/4                      Eq.:  +0.207
            0.548 0.172 0.009 - 0.452 0.121 0.005
             0-ply cubeful [expert]
         2. Cubeful 0-ply    13/11 13/9                   Eq.:  +0.050 ( -0.156)
            0.509 0.155 0.009 - 0.491 0.137 0.007
             0-ply cubeful [expert]
         3. Cubeful 0-ply    24/20 13/11                  Eq.:  +0.049 ( -0.158)
            0.513 0.137 0.007 - 0.487 0.132 0.004
             0-ply cubeful [expert]
         4. Cubeful 0-ply    24/22 13/9                   Eq.:  +0.037 ( -0.170)
            0.508 0.142 0.007 - 0.492 0.134 0.004
             0-ply cubeful [expert]
         5. Cubeful 0-ply    24/22 24/20                  Eq.:  -0.008 ( -0.215)
            0.501 0.121 0.006 - 0.499 0.133 0.003
             0-ply cubeful [expert]
         6. Cubeful 0-ply    24/18                        Eq.:  -0.015 ( -0.222)
            0.502 0.121 0.006 - 0.498 0.140 0.004
             0-ply cubeful [expert]
         7. Cubeful 0-ply    24/20 6/4                    Eq.:  -0.023 ( -0.229)
            0.497 0.132 0.007 - 0.503 0.144 0.005
             0-ply cubeful [expert]
         8. Cubeful 0-ply    13/9 6/4                     Eq.:  -0.026 ( -0.233)
            0.494 0.146 0.008 - 0.506 0.151 0.009
             0-ply cubeful [expert]
     [10 moves deleted]
     </pre>

   <p>Accoring to the move filter the first 0 moves are accepted. The equity
of the best move is +0.207, and according to the movefilter we add up
to 8 extra moves if they're within 0.160, that is, if they have equity
higher than +0.047. Move 4-18 all have equity lower that +0.047, so
the move list after pruning at 0-ply consists of move 1-3. According
to the move filter we do not perform any pruning at 1-ply, so move 1-3
are submitted for evaluation at 2-ply;

<pre class="example">         1. Cubeful 2-ply    8/4 6/4                      Eq.:  +0.197
            0.546 0.172 0.008 - 0.454 0.123 0.005
             2-ply cubeful 100% speed [world class]
         2. Cubeful 2-ply    24/20 13/11                  Eq.:  +0.058 ( -0.138)
            0.515 0.141 0.007 - 0.485 0.130 0.005
             2-ply cubeful 100% speed [world class]
         3. Cubeful 2-ply    13/11 13/9                   Eq.:  +0.050 ( -0.147)
            0.508 0.156 0.007 - 0.492 0.136 0.006
             2-ply cubeful 100% speed [world class]
         4. Cubeful 0-ply    24/22 13/9                   Eq.:  +0.037 ( -0.159)
            0.508 0.142 0.007 - 0.492 0.134 0.004
             0-ply cubeful [expert]
         5. Cubeful 0-ply    24/22 24/20                  Eq.:  -0.008 ( -0.205)
            0.501 0.121 0.006 - 0.499 0.133 0.003
             0-ply cubeful [expert]
         6. Cubeful 0-ply    24/18                        Eq.:  -0.015 ( -0.212)
            0.502 0.121 0.006 - 0.498 0.140 0.004
             0-ply cubeful [expert]
         7. Cubeful 0-ply    24/20 6/4                    Eq.:  -0.023 ( -0.219)
            0.497 0.132 0.007 - 0.503 0.144 0.005
             0-ply cubeful [expert]
         8. Cubeful 0-ply    13/9 6/4                     Eq.:  -0.026 ( -0.222)
            0.494 0.146 0.008 - 0.506 0.151 0.009
             0-ply cubeful [expert]
     </pre>

   <p>If we instead request a 4-ply chequer play decision, <tt>gnubg</tt> will use
the move filters defined for 4-ply:

   <p><table><tr align="left"><td valign="top"><strong>Ply</strong>
</td><td valign="top"><strong>Accept moves</strong>
</td><td valign="top"><strong>Extra moves</strong>
</td><td valign="top"><strong>Threshold for extra moves</strong>
<br></td></tr><tr align="left"><td valign="top">0       </td><td valign="top">0          </td><td valign="top">8        </td><td valign="top">0.160
<br></td></tr><tr align="left"><td valign="top">1       </td><td valign="top">no pruning </td><td valign="top"></td><td valign="top">
<br></td></tr><tr align="left"><td valign="top">2       </td><td valign="top">0          </td><td valign="top">2        </td><td valign="top">0.040
<br></td></tr><tr align="left"><td valign="top">3       </td><td valign="top">no pruning </td><td valign="top"></td><td valign="top">
   <br></td></tr></table>

   <p>The 4-ply move filter is identical to the 2-ply for pruning at 0-ply,
so after 0-ply we have the same three moves as above. Since there is no
pruning at 1-ply these three moves are evaluated at 2-ply as
above. There is no pruning at 3-ply.

   <p>At 4-ply we do not accept any moves, but add up to two moves if there
within 0.040 from the best move. Since the second best move is -0.138
worse than the best move, we do not accept any moves to be evaluated
at 4-ply. Hence <tt>gnubg</tt> will actually not evaluate any moves on
4-ply.

   <p>The predefined movefilters all have "accept 0 moves", in order to
facilitate fast decisions and analysis, i.e., no need to waste much
time over obvious moves.

   <p>For post-mortem analysis it may be worthwhile to ensure
that <tt>gnubg</tt> analyses at least two moves at the specified ply. To do
this, specify "accept 2 moves" in the move filters you use for
analysis. However, do note that <tt>gnubg</tt> will force evaluation at the
specified ply if the actual move made is doubtful.  This ensures that
all errors and blunders are evaluted at the same level.

<div class="node">
<p><hr>
Node:<a name="Analysis">Analysis</a>,
Next:<a rel="next" accesskey="n" href="#Rollouts">Rollouts</a>,
Previous:<a rel="previous" accesskey="p" href="#Evaluation">Evaluation</a>,
Up:<a rel="up" accesskey="u" href="#Settings">Settings</a>
<br>
</div>

<h3 class="section">Analysis</h3>

<div class="node">
<p><hr>
Node:<a name="Rollouts">Rollouts</a>,
Next:<a rel="next" accesskey="n" href="#Export">Export</a>,
Previous:<a rel="previous" accesskey="p" href="#Analysis">Analysis</a>,
Up:<a rel="up" accesskey="u" href="#Settings">Settings</a>
<br>
</div>

<h3 class="section">Rollouts</h3>

<div class="node">
<p><hr>
Node:<a name="Export">Export</a>,
Previous:<a rel="previous" accesskey="p" href="#Rollouts">Rollouts</a>,
Up:<a rel="up" accesskey="u" href="#Settings">Settings</a>
<br>
</div>

<h3 class="section">Export</h3>

<div class="node">
<p><hr>
Node:<a name="Analysis%20and%20rollouts">Analysis and rollouts</a>,
Next:<a rel="next" accesskey="n" href="#Position%20and%20match%20IDs">Position and match IDs</a>,
Previous:<a rel="previous" accesskey="p" href="#Settings">Settings</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Analysing and rollouts</h2>

<ul class="menu">
<li><a accesskey="1" href="#Evaluating%20a%20position">Evaluating a position</a>: 
<li><a accesskey="2" href="#Evaluating%20a%20cube%20decision">Evaluating a cube decision</a>: 
<li><a accesskey="3" href="#Rollout%20of%20moves">Rollout of moves</a>: 
<li><a accesskey="4" href="#Rollout%20of%20cube%20decisions">Rollout of cube decisions</a>: 
<li><a accesskey="5" href="#Analysing%20a%20saved%20game%20or%20match%20or%20session">Analysing a saved game or match or session</a>: 
<li><a accesskey="6" href="#Output%20of%20an%20analysis">Output of an analysis</a>: 
<li><a accesskey="7" href="#Equities">Equities</a>: 
</ul>

<div class="node">
<p><hr>
Node:<a name="Evaluating%20a%20position">Evaluating a position</a>,
Next:<a rel="next" accesskey="n" href="#Evaluating%20a%20cube%20decision">Evaluating a cube decision</a>,
Up:<a rel="up" accesskey="u" href="#Analysis%20and%20rollouts">Analysis and rollouts</a>
<br>
</div>

<h3 class="section">Evaluating a position</h3>

<div class="node">
<p><hr>
Node:<a name="Evaluating%20a%20cube%20decision">Evaluating a cube decision</a>,
Next:<a rel="next" accesskey="n" href="#Rollout%20of%20moves">Rollout of moves</a>,
Previous:<a rel="previous" accesskey="p" href="#Evaluating%20a%20position">Evaluating a position</a>,
Up:<a rel="up" accesskey="u" href="#Analysis%20and%20rollouts">Analysis and rollouts</a>
<br>
</div>

<h3 class="section">Evaluating a cube decision</h3>

<div class="node">
<p><hr>
Node:<a name="Rollout%20of%20moves">Rollout of moves</a>,
Next:<a rel="next" accesskey="n" href="#Rollout%20of%20cube%20decisions">Rollout of cube decisions</a>,
Previous:<a rel="previous" accesskey="p" href="#Evaluating%20a%20cube%20decision">Evaluating a cube decision</a>,
Up:<a rel="up" accesskey="u" href="#Analysis%20and%20rollouts">Analysis and rollouts</a>
<br>
</div>

<h3 class="section">Rollout of moves</h3>

<div class="node">
<p><hr>
Node:<a name="Rollout%20of%20cube%20decisions">Rollout of cube decisions</a>,
Next:<a rel="next" accesskey="n" href="#Analysing%20a%20saved%20game%20or%20match%20or%20session">Analysing a saved game or match or session</a>,
Previous:<a rel="previous" accesskey="p" href="#Rollout%20of%20moves">Rollout of moves</a>,
Up:<a rel="up" accesskey="u" href="#Analysis%20and%20rollouts">Analysis and rollouts</a>
<br>
</div>

<h3 class="section">Rollout of cube decisions</h3>

<h4 class="subsection">Quasi-Random Dice</h4>

   <p>Quasi-Random Dice are used to reduce the element of luck in
rollouts. Instead of selecting purely random dice, <tt>gnubg</tt> will
ensure a uniform distribution of the first roll of the rollout.  If 36
trials is requested, one game will start with 11, two games with 21,
two games with 31, etc. In general, if n * 36 games is requested, n
games will start with 11, 2*n games with 21 etc. This is called
<em>rotation</em> of the first roll. Similarly, if n*1296 trials is
requested, the second roll will be rotated, such that n games will
start with 11-11, 2*n games with 11-21, 4*n games with 21-21, etc. The
third roll be also be rotated if the number of trials is proportional
to 46656.

   <p>Suppose a user stops a 1296 trial rollout after 36 games. The 36 games
would have had the following rolls for the first two rolls of each
game: 11-11, 21-11, 12-11, 31-11, 13-11, ..., 66-11 Obviously such a
rollout will give skewed results since the second roll was 11 for all
games! To avoid this problem <tt>gnubg</tt> will randomise the sequence of
rolls such that it is guaranteed that for any sample of 36 games you
have exactly one game with first roll 11, exactly one game with
second roll 11, etc. This is called <em>stratification</em>.

   <p><tt>gnubg</tt> will actually also rotate and stratify rollouts where the
number of trials are not multiples of 36, 1296, etc. The distribution of
rolls is obviously not uniform any longer in this case, but it will
still provide some reduction of the luck, i.e., no 37 trial rollout
will have 3 games with a initial 66.

   <p>Before the first game of a rollout, <tt>gnubg</tt> creates a psuedo random
array which it will use for all the games in the rollout. In effect it
has already decided the roll sequence it will use for up to 128 rolls
in every game of the rollout. In other words, for a normal rollout
where games don't go over 64 moves, every single game of every
possible rollout length has already had its dice sequence
determined. During the rollout of game n, sequence n will be used, for
game n+1 sequence n+1, etc. If it's a <em>rollout as initial
position</em>, then whenever the current sequence starts with a double,
the sequence is skipped and the dice routine moves on to the next
sequence. Say an <em>rollout as initial position</em> is about to start
using sequence 275, but that sequence begins with a double. The dice
routine moves to sequence 276. On the following game, it will use
sequence 277 (it remembers how many it has already skipped).

   <p>So, if you select <em>rollout as initial position</em> and 36 games,
then you will get a prefect set of rolls for games 1..30 and the first
6 rolls of the next perfect set (the same rolls you would have gotton
for games 31..36 if you'd asked for 1080 games or 10800 games or 92
games or whatever.

   <p>The dice sequence doesn't know how man trials it will be asked for, it
simply generates sequences such that for a normal rollout
(<em>rollout as initial position</em>) every 36 (30) games you get all
possible 1st rolls, every 1296 (1080) games get every possible first 2
rolls, every 46656 (38880) games you get full sets of 3 rolls, etc.

<div class="node">
<p><hr>
Node:<a name="Analysing%20a%20saved%20game%20or%20match%20or%20session">Analysing a saved game or match or session</a>,
Next:<a rel="next" accesskey="n" href="#Output%20of%20an%20analysis">Output of an analysis</a>,
Previous:<a rel="previous" accesskey="p" href="#Rollout%20of%20cube%20decisions">Rollout of cube decisions</a>,
Up:<a rel="up" accesskey="u" href="#Analysis%20and%20rollouts">Analysis and rollouts</a>
<br>
</div>

<h3 class="section">Analysing a saved game or match or session</h3>

   <p><tt>gnubg</tt> allows

<div class="node">
<p><hr>
Node:<a name="Output%20of%20an%20analysis">Output of an analysis</a>,
Next:<a rel="next" accesskey="n" href="#Equities">Equities</a>,
Previous:<a rel="previous" accesskey="p" href="#Analysing%20a%20saved%20game%20or%20match%20or%20session">Analysing a saved game or match or session</a>,
Up:<a rel="up" accesskey="u" href="#Analysis%20and%20rollouts">Analysis and rollouts</a>
<br>
</div>

<h3 class="section">Output of an analysis</h3>

<h4 class="subsection">Chequer play analysis</h4>

<h4 class="subsection">Cube decision analysis</h4>

<h4 class="subsection">Game, match, or session statistics</h4>

   <p>You can get a summary of the analysis from the game, match, or
session analysis. The game analysis is a summary for the current game
whereas the match or session statistics is a summary of all the games
in the match or session. The match analysis is available in the GUI from
<code>Analysis-&gt;Match Statistics</code> or at the botton of exported files.

<h5 class="subsubsection">Chequer play statistics</h5>

   <p>This section provides a summary of the chequer play statistics. The
following information is available

     <ul>
<li><strong> Total moves          </strong>:
The total number of moves in the match. 
<li><strong> Unforced moves       </strong>:
The number of unforced moves, i.e., all chequer play decisions
which had more than one legal move. 
<li><strong> Moves marked xxx</strong>:
The number of moves marked <em>very good</em>, <em>very bad</em>
etc. The analysis will mark moves <em>very bad</em>, <em>bad</em>
etc. based on the threshold you've defined in the analysis
settings. <tt>gnubg</tt> can currently not automatically mark moves, e.g.,
<em>good</em>, but you can mark moves <em>good</em> yourself. 
<li><strong> Error rate (total)</strong>:
The first number is the total amount of normalised equity that
the player gave up during this game or match. The number in
parenthesis is the un-normalised counterpart; for money play the
all errors are multiplied with the value of the cube, and for match play
the total match winning chance given up by the player is reported. 
<li><strong> Error rate (per move)</strong>:
The error rate per move is the total error rate divided by the number of
<em>unforced moves</em>. Note that is different from Snowie 4 that
defines the error rate per move as the total error rate divided by the
total number of moves for both players, i.e., the sum of <em>total
moves</em> for both players. In general, your
error rate per move will be lower in Snowie than in <tt>gnubg</tt>. 
<li><strong> Chequer play rating</strong>:
<tt>gnubg</tt> will assign a rating for your chequer play ranging from
<em>Awful!</em> to <em>Supernatural</em>. See the description for the
<em>overall rating</em> below. 
</ul>

<h5 class="subsubsection">Luck analysis</h5>

   <p>This section provides information about how Ms. Fortuna distributed
her luck. The following information is available:

     <ul>
<li><strong> Rolls marked xxx</strong>:
The number of moves marked <em>very lucky</em>, <em>lucky</em>
etc. Moves marked <em>very lucky</em> are huge jokers that improve your
equity with more the +0.6 relative to the average equity. <tt>gnubg</tt>
normally uses cubeful 0-ply evaluations to calculate the luck, but you
can change that under the analysis settings. See below for a complete
overview of what is considered <em>very lucky</em>, <em>lucky</em>,etc. 
<li><strong> Luck rate (total)</strong>:
The total luck for this game or match reported both normalised
and unnormalised. 
<li><strong> Luck rate (per move)</strong>:
The luck rate per move reported both normalised and unnormalised. 
<li><strong> Luck rating</strong>:
Based on the luck rate per move <tt>gnubg</tt> will assign you a
humerous luck rating. See below for the possible ratings. 
</ul>

   <p>Thresholds for marking of rolls:

   <p><table><tr align="left"><td valign="top"><strong>Deviation of equity from average</strong>
</td><td valign="top"><strong>Roll is marked</strong>
<br></td></tr><tr align="left"><td valign="top">&gt;0.6         </td><td valign="top"><em>very lucky</em>
<br></td></tr><tr align="left"><td valign="top">0.3 - 0.6    </td><td valign="top"><em>lucky</em>
<br></td></tr><tr align="left"><td valign="top">-0.3 - 0.3   </td><td valign="top">unmarked
<br></td></tr><tr align="left"><td valign="top">-0.6 - -0.3  </td><td valign="top"><em>unlucky</em>
<br></td></tr><tr align="left"><td valign="top">&lt; -0.6       </td><td valign="top"><em>very unlucky</em>
   <br></td></tr></table>

   <p>Luck ratings:

   <p><table><tr align="left"><td valign="top"><strong>Normalised luck rate per move</strong>
</td><td valign="top"><strong>Luck rating</strong>
<br></td></tr><tr align="left"><td valign="top">&gt; 0.10         </td><td valign="top">Cheater :-)
<br></td></tr><tr align="left"><td valign="top">0.06 - 0.10    </td><td valign="top">Go to Las Vegas immediately
<br></td></tr><tr align="left"><td valign="top">0.02 - 0.06    </td><td valign="top">Good dice, man! 
<br></td></tr><tr align="left"><td valign="top">-0.02 - 0.02   </td><td valign="top">none
<br></td></tr><tr align="left"><td valign="top">-0.06 - -0.02  </td><td valign="top">Better luck next time
<br></td></tr><tr align="left"><td valign="top">-0.06 - -0.10  </td><td valign="top">Go to bed
<br></td></tr><tr align="left"><td valign="top">&lt; -0.10        </td><td valign="top">Haaa-haaa
   <br></td></tr></table>

<h5 class="subsubsection">Cube statistics</h5>

   <p>This section provides a summary of the cube decision statistics: the
number of cube decisions, missed doubles, etc.

     <ul>
<li><strong> Total cube decisions</strong>:
The total number of cube decisions, i.e., the sum of no-doubles,
doubles, takes, and passes. 
<li><strong> Close or actual cube decisions</strong>:
Similar to "Total cube decisions", except that no-doubles are
only included if they're considered "close". <tt>gnubg</tt> considers a
cube decision close if the relavant equities are within 0.25 from
eachother or if the position is too good. 
<li><strong> Doubles, Takes, Passes</strong>:
The total number of doubles, takes, and passes in the game or
match. 
<li><strong> Missed doubles around DP, Missed doubles around TG</strong>:
The number of missed doubles around the double point and too good
point respectively. If the
equity is below 0.95 the position is considered to be around the
double point else it considered to be around the too good point. If
you miss doubles around the double point, it usually means that you
double to late, whereas missed doubles around the too good point means
that you're too greedy and play on for gammon when the position is
<em>not</em> too good. 
<li><strong> Wrong doubles around DP, Wrong doubles around TG</strong>:
The number of wrong doubles around the double point and too good
point, respectively. If you have missed doubles around the double
point that generally means that you double too early where you really
should hold the cube, whereas missed doubles around the too good point
means that you double positions where you really should play on for a
gammon or backgammon. 
<li><strong> Wrong takes, Wrong passes</strong>:
The total number of wrong takes and passes, respectively. 
<li><strong> Error rate (total)</strong>:
The accumulated cube errors for this game or match reported both
normalised and unnormalised. 
<li><strong> Error rate (per cube decision)</strong>:
The error rate per cube decision is the total error rate divided
by the number of <em>close or actual cube decisions</em>. 
Note that is different from Snowie 4 that
defines the error rate per cube decision as the total error rate divided by the
total number of moves for both players. In general, your
error rate per cube decision will be lower in Snowie than in <tt>gnubg</tt>. 
<li><strong> Cube decision rating</strong>:
<tt>gnubg</tt> will assign a rating for your cube decisions ranging from
<em>Awful!</em> to <em>Supernatural</em>. See the description for the
<em>overall rating</em> below. 
</ul>

<h5 class="subsubsection">Overall rating</h5>

   <p>The last section is the overall summary.

     <ul>
<li><strong>Error rate (total)</strong>:
The accumulated chequer play and cube decision errors reported by
normalised and unnormalised. 
<li><strong>Error rate (per decision)</strong>:
The error rate per decision is the total error rate divided
by the number of non-trivial decisions (i.e., the sum of <em>unforced
moves</em> and <em>close or actual cube decisions</em>). 
Again, please note that is different from Snowie 4 that
defines the error rate per decision as the total error rate divided by the
total number of moves for both players. In general, your
error rate per move will be lower in Snowie than in <tt>gnubg</tt>. 
An investigation of approximately 300 matches showed the on average
the <tt>gnubg</tt> error rate with be 1.4 times higher than your Snowie 4
error rate. 
<li><strong>Equivalent Snowie error rate</strong>:
For easy comparison <tt>gnubg</tt> will also print the total error rate
calculated by the same formulae as Snowie 4. 
<li><strong>Overall rating</strong>:
Based on your normalised error rate per move <tt>gnubg</tt> will assign
you a rating ranging from <em>Awful!</em> to <em>Supernatural</em>. See
the table below for the thresholds. 
<li><strong>Actual result</strong>:
The actual result of the game or match. For money game this is simply the
number of points won or lost during the game or match. For match play
the number is calculated as 50% added to the result of the game or
match in MWC. For example, losing a match or winning a match
corresponds to an actual result of 0% and 100%, respectively. Winning
1 point in the first game of 7 point match is worth 6% using Kit
Woolsey's match equity table, hence the actual result is 56%. 
<li><strong>Luck adjusted result</strong>:
The luck adjusted result is calculated as the <em>actual result</em>
plus the total unnormalised luck rate. This is also called "variance
reduction of skill" as described in Douglas Zare's excellent article
<a href="http://math.columbia.edu/~zare/vrskill.html">Hedging Toward Skill</a>. This should give an unbiased measure of the strengths of the
players. 
<li><strong>MWC against current opponent</strong>:
For match play <tt>gnubg</tt> will calculate your MWC
against the current opponent. The number is calculated as 50% - your
total unnormaluised error rate + your opponent's total unnormalised
error rate. If your opponent is really lucky but plays rather bad, this
number can become larger than 100%, since he due to the extra luck has
the possibily to give up even more MWC. However, <tt>gnubg</tt> will
report this number as 100%, and 0% for the opposite situation. Note
that this number is biased towards the analysing bot, e.g., a 0-ply
analysis a game between <tt>gnubg</tt> 2-ply and 0-ply will suggest that
0-ply is a favourite, which it is clearly not. For an unbiased measure
use the <em>luck adjusted result</em> above. 
<li><strong>Guestimated abs. rating</strong>:
writeme
</ul>

   <p>Threshold for ratings:

   <p><table><tr align="left"><td valign="top"><strong>Normalised total error rate per move</strong>
</td><td valign="top"><strong>Rating</strong>
<br></td></tr><tr align="left"><td valign="top">0.000 - 0.002   </td><td valign="top">Supernatural
<br></td></tr><tr align="left"><td valign="top">0.002 - 0.005   </td><td valign="top">World Class
<br></td></tr><tr align="left"><td valign="top">0.005 - 0.008   </td><td valign="top">Expert
<br></td></tr><tr align="left"><td valign="top">0.008 - 0.012   </td><td valign="top">Advanced
<br></td></tr><tr align="left"><td valign="top">0.012 - 0.018   </td><td valign="top">Intermediate
<br></td></tr><tr align="left"><td valign="top">0.018 - 0.026   </td><td valign="top">Casual Player
<br></td></tr><tr align="left"><td valign="top">0.026 - 0.035   </td><td valign="top">Beginner
<br></td></tr><tr align="left"><td valign="top">&gt; 0.035         </td><td valign="top">Awful!
   <br></td></tr></table>

<div class="node">
<p><hr>
Node:<a name="Equities">Equities</a>,
Previous:<a rel="previous" accesskey="p" href="#Output%20of%20an%20analysis">Output of an analysis</a>,
Up:<a rel="up" accesskey="u" href="#Analysis%20and%20rollouts">Analysis and rollouts</a>
<br>
</div>

<h3 class="section">Equities</h3>

<h4 class="subsection">Introduction</h4>

   <p><tt>gnubg</tt> works with many different kinds of equities. The equity is
defined as the expected value of the position. However, this value can
be expressed in several different metrics and may be calculated with
or without taking the effect of the cube into consideration. In the
following section we will describe the equities used and calculated by
<tt>gnubg</tt>.

<h4 class="subsection">Money equity</h4>

   <p>This is the value of the position in money game, e.g., if you equity
is +0.4 an you are playing money game with a $1 stake, you will win
$0.40 on average. The money equity can be calculated with or without
taking the effect of the doubling cube into consideration, or
<em>cubeful</em> or <em>cubeless</em>. The cubeless equity can be
calculated from the basic formulae:
2*p(w)-1+2(p(wg)-p(lg))+3(p(wbg)-p(lbg)). Evaluating the cubeful equity
is much more difficult; it can either be estimated from the cubeless
equitity by using transformations as outlined by Rick Janowski or by
constructing a neural net that
directly outputs cubeful equities. <tt>gnubg</tt> uses the former approach
(see chapter <a href="#Cubeful%20equities">Cubeful equities</a>).

<h4 class="subsection">Match Winning Chance</h4>

   <p>In match play we're generally not particular interested in the outcome
of the individual games as much as the outcome of the entire match, so
the interesting quantity for match play is <em>match winning chance</em>
(MWC). As for the money equity the MWC can be calculated with and
without the effect of the doubling cube. The MWCs are generally
calculated with the use of a match equity table, which contains the
chance of winning the match <em>before</em> a game starts, e.g., if the
score is 0-0 in a 1pt match each player has 50% chance of winning the
match before the game starts assuming they're of equal skill.

   <p>The cubeless MWC is calculated as: MWC(cubeless) = p(w) * MWC(w) +
p(l) * MWC(l) + p(wg) * MWC(wg) + p(lg) * MWC(lg) + p(wbg) * MWC(wbg)
* p(lbg) * MWC(lbg).

   <p>For example, if the w/g/bg distribution is 0 30 60 - 40 10 0 and the
match score is 1-3 to 5 with the cube on 2 the cubeless MWC is:

   <p>MWC(cubeless)= 30% * 50% + 30% * 0% + 30% * 100% + 10% * 0% + 0% *
100% + 0% * 0% = 45%,

   <p>so the cubeless MWC is 45%.

   <p>Evaluating the cubeful MWC is more difficult, and as for the cubeful
money equity it's possible to estimate cubeful MWCs from
transformation on the w/g/bg distribution or directly calculate it
from neural nets. <tt>gnubg</tt> uses the former approach, but the formulae
are currently not published.

<h4 class="subsection">Normalised equity</h4>

   <p>It's generally very difficult to compare MWCs. For example, it's
hardly worth mentioning a 0.5% MWC error at DMP where as it's a huge
error at 0-0 to 7. It is therefore of interesting to normalise the
MWCs to some common scale. The most often used normalisation is
Normalised Money Game Equity (NEMG) where the MWC for any game is
transformed into the same interval as money game, i.e., -3 to +3 (due
to anomalies at certain match scores the NEMG can go below -3 and
above +3). The transformation is linear:

   <p>NEMG = 2 * (MWC-MWC(l))/(MWC(w)-MWC(l)) - 1

   <p>In other words, extrapolation with the following two extrapolation
points: (MWC(w),+1) and (MWC(l),-1).

   <p>For example, suppose the score is 3-1 to 5 with the cube on 2:
MWC(l)=0% and MWC(w)=50%:

   <p><table><tr align="left"><td valign="top"><strong>MWC</strong> </td><td valign="top"><strong>NEMG</strong>
<br></td></tr><tr align="left"><td valign="top">0% </td><td valign="top">-1
<br></td></tr><tr align="left"><td valign="top">25% </td><td valign="top">0
<br></td></tr><tr align="left"><td valign="top">50% </td><td valign="top">+1
<br></td></tr><tr align="left"><td valign="top">75% </td><td valign="top">+2
<br></td></tr><tr align="left"><td valign="top">100% </td><td valign="top">+3
   <br></td></tr></table>

   <p>Note that a w/g/bg distribution of 0 100 100 - 0 0 0 gives a NEMG of
+3 whereas the corresponding money equity is only +2. This is because
the gammon price is high for that particular score. When both players
are far from winning the match, e.g., 0-0 to 17 or 1-0 to 17, NEMG is
very close to the ususal money equity.

   <p>NEMG can be calculated from both cubeless and cubeful MWCs.

   <p>A word of caution: A cubeless NEMG calculated from a cubeless MWC
could be named "cubeless equity", but in most backgammon litterature
this term seems to be reserved for the cubeless money equity.

<div class="node">
<p><hr>
Node:<a name="Position%20and%20match%20IDs">Position and match IDs</a>,
Next:<a rel="next" accesskey="n" href="#Cubeful%20equities">Cubeful equities</a>,
Previous:<a rel="previous" accesskey="p" href="#Analysis%20and%20rollouts">Analysis and rollouts</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Position and match IDs</h2>

<ul class="menu">
<li><a accesskey="1" href="#A%20technical%20description%20of%20the%20position%20ID">A technical description of the position ID</a>: 
<li><a accesskey="2" href="#A%20technical%20description%20of%20the%20match%20ID">A technical description of the match ID</a>: 
</ul>

<div class="node">
<p><hr>
Node:<a name="A%20technical%20description%20of%20the%20position%20ID">A technical description of the position ID</a>,
Next:<a rel="next" accesskey="n" href="#A%20technical%20description%20of%20the%20match%20ID">A technical description of the match ID</a>,
Up:<a rel="up" accesskey="u" href="#Position%20and%20match%20IDs">Position and match IDs</a>
<br>
</div>

<h3 class="section">A technical description of the position ID</h3>

<h4 class="subsection">Introduction</h4>

   <p>This section describes a method for compactly recording a backgammon
position. It demonstrates how to encode a position into 10 binary
bytes, which is useful for minimising the space used when recording
large numbers of positions in memory or on disk. There is also an
ASCII representation in 14 characters, which is convenient for output
to the screen, for copying and pasting to transfer positions between
programs which support the format, and for communicating positions via
Usenet news or e-mail. The 10 byte binary format is called the <em>key</em>,
and the 14 character ASCII format is the <em>ID</em>.

<h4 class="subsection">Key format</h4>

   <p>The key is essentially a bit string (imagine you start with an empty
sequence of bits, and continue adding either "0" or "1" to the
end). The way to build up a sequence that corresponds to a given
position is:

     <ol type=1 start=1>
<li>For every point around the board (starting at the ace point of
the player on roll, continuing around to the 24 point and ending at
the bar):
          <ol type=1 start=1>
<li>append as many 1s as the player on roll has on that point (if any). 
<li>append a 0.
          </ol>

     <li>For every point around the board (starting at the ace point of
the opponent, continuing around to the opponent's 24 point and ending
at the bar):
          <ol type=1 start=1>
<li>append as many 1s as the opponent has on that point (if any). 
<li>append a 0. 
<li>Pad out the string to 80 bits with 0s.
          </ol>

        </ol>

   <p>The worst-case representation will require 80 bits: you can see that
there are always 50 0 bits even if there are no chequers at all. Each
player has a maximum of 15 chequers in play (not yet borne off) which
require a 1 bit wherever they are positioned. That's 30 bits to take
of all chequers, plus the 50 bits of overhead for a total of 80 bits
(the last bit is always 0 and isn't strictly necessary, but it makes
the code slightly easier). This bit string should be stored in
little-endian order when packed into bytes (ie. the first bits in the
string are stored in the least significant bits of the first byte).

   <p>As an example, here's what the starting position looks like in the key
format:

   <p><table><tr align="left"><td valign="top">0 0 0 0 0          </td><td valign="top">player on roll has no chequers on ace to 5 points
<br></td></tr><tr align="left"><td valign="top">11111 0            </td><td valign="top">5 chequers on the 6 point
<br></td></tr><tr align="left"><td valign="top">0                  </td><td valign="top">empty bar
<br></td></tr><tr align="left"><td valign="top">111 0              </td><td valign="top">3 on the 8
<br></td></tr><tr align="left"><td valign="top">0 0 0 0            </td><td valign="top">no others in our outfield
<br></td></tr><tr align="left"><td valign="top">11111 0            </td><td valign="top">5 on the midpoint
<br></td></tr><tr align="left"><td valign="top">0 0 0 0 0          </td><td valign="top">none in the opponent's outfield
<br></td></tr><tr align="left"><td valign="top">0 0 0 0 0          </td><td valign="top">or in opponent's board, until... 
<br></td></tr><tr align="left"><td valign="top">11 0               </td><td valign="top">two on the 24 point
<br></td></tr><tr align="left"><td valign="top">0                  </td><td valign="top">none on the bar
<br></td></tr><tr align="left"><td valign="top">0 0 0 0 0          </td><td valign="top">opponent has no chequers on ace to 5 points
<br></td></tr><tr align="left"><td valign="top">11111 0            </td><td valign="top">5 chequers on the 6 point
<br></td></tr><tr align="left"><td valign="top">0                  </td><td valign="top">empty bar
<br></td></tr><tr align="left"><td valign="top">111 0              </td><td valign="top">3 on the 8
<br></td></tr><tr align="left"><td valign="top">0 0 0 0            </td><td valign="top">no others in opponent's outfield
<br></td></tr><tr align="left"><td valign="top">11111 0            </td><td valign="top">5 on the midpoint
<br></td></tr><tr align="left"><td valign="top">0 0 0 0 0          </td><td valign="top">none in our outfield
<br></td></tr><tr align="left"><td valign="top">0 0 0 0 0          </td><td valign="top">or in our board, until... 
<br></td></tr><tr align="left"><td valign="top">11 0               </td><td valign="top">two on the 24 point
<br></td></tr><tr align="left"><td valign="top">0                  </td><td valign="top">none on the bar
   <br></td></tr></table>

   <p>so altogether it's:

   <p>00000111110011100000111110000000000011000000011111001110000011111000000000001100

   <p>In little endian bytes it looks like:

   <p>11100000 01110011 11110000 00000001 00110000 11100000 01110011 11110000 00000001 00110000
   0xE0     0x73     0xF0     0x01     0x30     0xE0     0x73     0xF0     0x01     0x30

   <p>so the 10 byte key (in hex) is E0 73 F0 01 30 E0 73 F0 01 30. 
ID format

   <p>The ID format is simply the
<a href="http://www.ietf.org/rfc/rfc2045.txt">Base64</a>
encoding of the key. (Technically,
a Base64 encoding of 80 binary bits should consist of 14 characters
followed by two = padding characters, but this padding is omitted in
the ID format.)

   <p>To continue the above example, splitting the 10 8-bit bytes into 14
6-bit groups gives:

   <p>111000 000111 001111 110000 000000 010011 000011 100000 011100 111111 000000 000001 001100 000000

   <p>In Base64 encoding, these groups are respectively represented as:

   <p>4      H      P     w      A      T      D      g      c      /      A      B      M      A

   <p>So, the position ID of the chequers at the start of the game is simply:

   <p>4HPwATDgc/ABMA

   <p>You can set the board in <tt>gnubg</tt> either by writing the position ID
into the position text input field in the GUI or by executing the
command <code>set board 4HPwATDgc/ABMA</code>.

<h4 class="subsection">Notes</h4>

     <ul>
<li>This encoding is obviously not as compact as it could be: in
particular, there are lots of redundant representations of illegal
positions where both players have chequers on the same
point. Theoretically, it would be possible to get it down to 64 bits
by using
<a href="http://www.bkgm.com/rgb/rgb.cgi?view+371">Walter Trice's "D() expressions"</a>, but I think you'd have to
be a mathematical masochist to try it! 
<li><a href="http://savannah.gnu.org/cgi-bin/viewcvs/gnubg/gnubg/positionid.c?rev=HEAD&amp;sortby=date&amp;content-type=text/vnd.viewcvs-markup">Example code</a>
to convert between a raw board encoding (the number of chequers on
each point) and these keys/IDs is available licensed under GPL. 
<li>Thanks to Tom Keith and David desJardins for their suggestions
on simplifying the encoding without increasing the worst case length. 
</ul>

<div class="node">
<p><hr>
Node:<a name="A%20technical%20description%20of%20the%20match%20ID">A technical description of the match ID</a>,
Previous:<a rel="previous" accesskey="p" href="#A%20technical%20description%20of%20the%20position%20ID">A technical description of the position ID</a>,
Up:<a rel="up" accesskey="u" href="#Position%20and%20match%20IDs">Position and match IDs</a>
<br>
</div>

<h3 class="section">A technical description of the match ID</h3>

<h4 class="subsection">Introduction</h4>

   <p>This section describes how the match ID is calculated. The match ID  can
be used for easy exchange of positions for <tt>gnubg</tt> users in
conjuction with the position ID. The match key is a 9 byte
representation of the match score, match length, value of cube, owner of
cube, Crawford game flag, player on roll, player to make a decision,
doubled flag, resigned flag, and the dice rolled. The match ID is the 12
character Base64 encoding of the match key.

<h4 class="subsection">Match key</h4>

   <p>The match key is a bit string of length 66:

     <ol type=1 start=1>
<li>Bit 1-4 contains the 2-logarithm of the cube value. For example, a
8-cube is encoded as 0011 binary (or 3), since 2 to the power of 3 is
8. The maximum value of the cube in with this encoding is 2 to the power
of 15, i.e., a 32768-cube.

     <li>Bit 5-6 contains the cube owner. 00 if player 0 owns the cube, 01 if
player 1 owns the cube, or 11 for a centered cube.

     <li>Bit 7 is the player on roll or the player who did roll (0 and 1 for
player 0 and 1, respectively).

     <li>Bit 8 is the Crawford flag: 1 if this game is the Crawford game, 0
otherwise.

     <li>Bit 9-11 is the game state: 000 for no game started, 001 for playing a game,
010 if the game is over, 011 if the game was resigned, or 100 if the
game was ended by dropping a cube.

     <li>Bit 12 indicates whose turn it is. For example, suppose player 0 is on
roll then bit 7 above will be 0. Player 0 now decides to double, this
will make bit 12 equal to 1, since it is now player 1's turn to decide
whether she takes or passes the cube.

     <li>Bit 13 indicates whether an doubled is being offered. 0 if no double is
being offered and 1 if a double is being offered.

     <li>Bit 14-15 indicates whether an resignation was offered. 00 for no
resignation, 01 for resign of a sigle game, 10 for resign of a gammon,
or 11 for resign of a backgammon. The player offering the resignation is
the inverse of bit 12, e.g., if player 0 resigns a gammon then bit 12
will be 1 (as it is now player 1 now has to decide whether to accept or
reject the resignation) and bit 13-14 will be 10 for resign of a gammon.

     <li>Bit 16-18 and bit 19-21 is the first and second die, respectively. 0 if
the dice has not yet be rolled, otherwise the binary encoding of the
dice, e.g., if 5-2 was rolled bit 16-21 will be 101-010.

     <li>Bit 22 to 36 is the match length. The maximum value for the match length
is 32767. A matchscore of zero indicates that the game is a money game.

     <li>Bit 37-51 and bit 52-66 is the score for player 0 and player 1
respectively. The maximum value of the match score is 32767.

        </ol>

   <p>For example, assume the score is 2-4 in a 9 point match with player 0
holding a 2-cube, and player 1 has just rolled 52. The match key for
this will be (note that the bit order is reversed below for readability)

   <p>1000 00 1 0  100 1 0 00 101 010 100100000000000 010000000000000 001000000000000

   <p>In little endian the bytes looks like:

   <p>01000001 10001001 00101010 00000001 00100000 00000000 00100000 00000000 00

   <p>0x41     0x89     0x2A     0x01     0x20     0x00     0x20     0x00     0x00

<h4 class="subsection">Match ID</h4>

   <p>Analogous to the position ID from the previous section the match ID
format is simply the Base64 encoding of the key.

   <p>To continue the example above, the 9 8-bit bytes are grouped into 12
6-bits groups:

   <p>010000 011000 100100 101010 000000 010010 000000 000000 001000 000000
000000 000000

   <p>In Base64 encoding, the groups are represented as:

   <p>Q Y k q A S A A I A A A

   <p>So, the match id is simply:

   <p>QYkqASAAIAAA

   <p>If someone post a match ID you can set up the position in <tt>gnubg</tt> by
writing or pasting it into the Match ID text input field on the main
window, or by executing the command <code>set matchid QYkqASAAIAAA</code>.

<div class="node">
<p><hr>
Node:<a name="Cubeful%20equities">Cubeful equities</a>,
Next:<a rel="next" accesskey="n" href="#Training">Training</a>,
Previous:<a rel="previous" accesskey="p" href="#Position%20and%20match%20IDs">Position and match IDs</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Cubeful equities</h2>

   <p>This chapter is a brief description of how <tt>gnubg</tt> calculates cubeful
equities. The formulae build directly on the work by Rick Janowski
<a href="http://www.msoworld.com/mindzine/news/classic/bg/cubeformulae.html">Take-Points in Money Games</a> from 1993.

<h3 class="section">Basic formulae for cubeful equities</h3>

   <p>The basic formulae for cubeful equities as derived by Janowski is

   <blockquote>
E(cubeful) = E(dead) * (1-x) + E(live) * x,
</blockquote>

   <p>where E(dead) is the dead cube equity (cubeless equity) calculated
from the standard formulae. E(live) is the cubeful equity assuming a
fully live cube. We'll return to that in the next section. x is the cube
efficiency. x=0 gives E(cubeful)=E(dead) as one extreme and x=1 gives
E(cubeful)=E(live) as the other extreme. In reality x is somewhere
in between, which typical values around 0.6 - 0.8.

   <p>Janowski's article doesn't mention cubeful equities, so we use the
straightforward generalisation

   <blockquote>
MWC(cubeful) = MWC(dead) * (1-x) + MWC(live) * x. 
</blockquote>

   <p>as MWC is the entity that is used for match play evaluations.

<h3 class="section">Live cube equities</h3>

   <p>The live cube equity is the equity assuming that the equity changes
continuously, so that doubles and takes occurs exactly at the double
point and take point. For gammonless play this is the well-known take
point of 20%. Janowski derives the more general formula

   <blockquote>
TP = (L-0.5)/(W+L+0.5)
</blockquote>

   <p>where W is the average cubeless value of games ultimately won, and L
is the average cubeless value of games ultimately lost. For example,
for the following position

<pre class="example">      GNU Backgammon  Position ID: 4HPMwQCMz+AIIQ
                      Match ID   : cAkAAAAAAAAA
      +13-14-15-16-17-18------19-20-21-22-23-24-+     O: gnubg
      | X  O     X  O    |   | O  X           X |     0 points
      | X  O        O    |   | O                |
      | X           O    |   | O                |
      |                  |   | O                |
      |                  |   | O                |
     v|                  |BAR|                  |     (Cube: 1)
      |                  |   | X                |
      |                  |   | X                |
      | O                |   | X                |
      | O           X  O |   | X        X       |     On roll
      | O           X  O |   | X        X       |     0 points
      +12-11-10--9--8--7-------6--5--4--3--2--1-+     X: jth
     </pre>

   <p><tt>gnubg</tt> evaluates

<pre class="example">             Win     W(g)    W(bg)   L(g)    L(bg)
     static: 0.454   0.103   0.001   0.106   0.003
     </pre>

   <p>and hence W=(0.454 + 0.103 + 0.001)/0.454=1.229 and
L=(0.556+0.106+0.003)/0.556) = 1.196. For gammonless positions, e.g.,
a race, W=1 and L=1.

   <p>The live cube equity is now based on piecewise linear interpolation
between the points (0%,-L%), (TP,-1), (CP,+1), and (100%,+W): if my
winning chance is 0 I lose L points, at my take point I lose 1 point,
at my cash point I cash 1 point, and when I have a certain win I win W
points:

   <p><table><tr align="left"><td valign="top"><img src="mgtp.png" alt="mgtp.png">
</td><td valign="top"><strong>Figure X</strong> Cubeful equities
   <br></td></tr></table>

   <p>For match play there is no simple formula, since redoubles can only
occur a limited number of times.

   <p>The live cube take point is generally calculated as

   <p>TP(live, n Cube)=TP(dead, n cube) * (1 - TP(live, 2n cube)

   <p>So to calculate the live cube take points for a 1-cube at 3-0 to 7 we
need the live cube take points for the 4-cube and the 2-cube. For the
position above and using
Woolsey's match equity table the live cube take point are:

   <p><table><tr align="left"><td valign="top"><strong>Cube value</strong>
</td><td valign="top"><strong>TP for X</strong>
</td><td valign="top"><strong>TP for O</strong>
<br></td></tr><tr align="left"><td valign="top">4  </td><td valign="top">0%   </td><td valign="top">41%
<br></td></tr><tr align="left"><td valign="top">2  </td><td valign="top">15%   </td><td valign="top">38.5%
<br></td></tr><tr align="left"><td valign="top">1  </td><td valign="top">24.5% </td><td valign="top">27.3%
   <br></td></tr></table>

   <p>The calculation of these are left as an exercise to the reader.

   <p>Ignoring backgammons, the gammon rates for O and X are 0.106/54.6=19%
and 0.103/0.454=22%, respectively. If O wins the game his MWC will be

   <p>81% * MWC(-3,-7) + 19% * MWC(-2,-7) = 78%

   <p>and if X wins his MWC will be

   <p>78% * MWC(-4,-6) + 22% * MWC(-4,-5) = 41%.

   <p>If O cashes 1 point he has MWC(-3,-7)=76% and if X cashes he has
MWC(-4,-6)=36%. Analogous to money game the live cube MWC is
calculated as piecewise linear interpolation between (0%,22%),
(24.5%,24%), (72.7%,36%), and (100%,41%) (from X's point of view):

   <p><table><tr align="left"><td valign="top"><img src="mptp.png" alt="mptp.png">
</td><td valign="top"><strong>Figure X</strong> Fully live cubeful MWC
   <br></td></tr></table>

<h3 class="section">0-ply Cubeful equities</h3>

   <p>Having established the live cube equities and MWCs we're now in
position to calculate the 0-ply cubeful equities.

   <p>Let's start with money game: the cubeless equity is -0.097 and the
live cube equity can be determined from Figure X as -0.157. Thus, the
cubeful equity is -0.138.

   <p>For the match play example at the score 3-0 the cubeless MWC is 29.1%
and from Figure X using wins=45.4% we can determine the live cube MWC
to be 29.2%. Using a value of x=0.68 we arrive at a cubeful MWC of 29.17%.

<h3 class="section">n-ply Cubeful equities</h3>

   <p>The previous section concerned the calculation of 0-ply cubeful
equities, so how so <tt>gnubg</tt> calculate cubeful 2-ply equities? The
answer is: by simple recursion:

<pre class="example">     Equity=0
     Loop over 21 dice rolls
        Find best move for given roll
        Equity = Equity + Evaluate n-1 ply equity for resulting position
     End Loop
     Equity = Equity/36
     </pre>

   <p>Note that evaluating the n-1 ply equity involves a cube decision,
since the opponent may double, so <tt>gnubg</tt> will actually calculate the
two n-1 ply equities: (a) assuming no double, and (b) assuming double,
take. These two equities are combined with the equity for a pass, and
the optimum of these three is added to the resulting equity. For a
cubeful 2-ply evaluation <tt>gnubg</tt> will end up calculating the
following cubeful 0-ply equities: centred 1-cube,
opponent owns 2-cube, owned 4-cube, and opponent owns 8-cube.

   <p>Note that the 2-ply level does not use the cube efficiency, it's not
used until at the 0-ply level, but it's possible to calculate an
effective one by isolating x in the basic cube formulae:

   <blockquote>
x(eff) = (E(2-ply cubeful) - E(2-ply dead))/(E(2-ply live)-E(2-ply dead)). 
</blockquote>

<h3 class="section">The cube efficiency</h3>

   <p>The cube efficiency is obviously an important parameter, unfortunately
there haven't been much investigation carried out, so <tt>gnubg</tt>
basically uses the values 0.6-0.7 originally suggested by Rick
Janowski:

   <p><table><tr align="left"><td valign="top"><strong>Position Class</strong> </td><td valign="top"><strong>x (Cube efficiency)</strong>
<br></td></tr><tr align="left"><td valign="top">Two-sided (exact) bearoff  </td><td valign="top">n/a
<br></td></tr><tr align="left"><td valign="top">One-sided bearoff   </td><td valign="top">0.6
<br></td></tr><tr align="left"><td valign="top">Crashed   </td><td valign="top">0.68
<br></td></tr><tr align="left"><td valign="top">Contact   </td><td valign="top">0.68
<br></td></tr><tr align="left"><td valign="top">Race      </td><td valign="top">linear interpolation between 0.6 and 0.7
   <br></td></tr></table>

   <p>For race <tt>gnubg</tt> uses linear interpolation based on pip count for the
player on roll. A pip count of 40 gives x=0.6 and 120 gives x=0.7. If
the pip count is below 40 or above 120 values of x=0.6 and x=0.7 are
used, respectively.

   <p>For the two sided bearoff positions the cubeful money equity is
already available from the database, so for money game there
is no need to calculate cubeful equities via Janowski's
formulae. However, the cubeful equities for money game cannot be used
for match play. Instead of using a fixed value of x, say, 0.6,
<tt>gnubg</tt> will calculate an effective value based on the cubeful money
equity. The cubeful MWC is calculated as usual, but with the
calculated x.

   <p>There is obviously room for improvements. For example, holding games
should intuitively have a lower cube efficiency, since it's very
difficult to double effectively: either it's not good enough or you've
lost the market by a mile after rolling a high double or hitting a
single shot. Similarly, backgames will often have a low cube
efficiency, whereas blitzes have may have a higher cube efficiency.

<h3 class="section">Cube decisions</h3>

   <p><tt>gnubg</tt>'s cube decisions are simple based on calculations of cubeful
equities. For a double decision <tt>gnubg</tt> calculates the cubeful equity
for "no double" and the cubeful equity for "double,
take". Combined with the equity for "double, pass", it's possible
to determine the correct cube action.

   <p>Figure X shows the relevant cubeful equities for O and X's cube
decisions in sample position from earlier.

   <p><table><tr align="left"><td valign="top"><img src="mgcd.png" alt="mgcd.png">
</td><td valign="top"><strong>Figure X</strong> Cubeful equities
   <br></td></tr></table>

   <p>On 0-ply X will double when the green curve (O owns 2-cube) is
above the red curve (centered cube), and O will take as long as the
green curve is below 1. Similarly, O will double when the blue curve
(X owns 2-cube) is below the red curve (centered cube), and X takes as
long as the blue curve is above -1.

   <p>Note that <tt>gnubg</tt> doesn't calculate the take point or double point
explicitly. The cube decision is simply made by comparing equities
from Figure X.

<h3 class="section">Beyond the simple model</h3>

   <p>Janowski has developed two other models for cubeful equities. The
first is a generalisation of the one used by <tt>gnubg</tt>; it introduces
two cube efficiencies instead of one. Often you may see that the cube
efficiencies are different for the two players, and the "refined
general model" as it is named by Janowski, tries to take this into
consideration by using different cube efficiency parameters for the
two players. For example, the blitzer may have another cube efficiency
that the blitzee.

   <p>The second model is not published, but redefines the cube
efficiency into a value that can be understood more intuitively and
calculate easily from rollouts.

<div class="node">
<p><hr>
Node:<a name="Training">Training</a>,
Next:<a rel="next" accesskey="n" href="#Scripting">Scripting</a>,
Previous:<a rel="previous" accesskey="p" href="#Cubeful%20equities">Cubeful equities</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Training</h2>

<div class="node">
<p><hr>
Node:<a name="Scripting">Scripting</a>,
Next:<a rel="next" accesskey="n" href="#Bearoff%20databases">Bearoff databases</a>,
Previous:<a rel="previous" accesskey="p" href="#Training">Training</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Scripting</h2>

<h3 class="section">Accessing <tt>gnubg</tt> Python shell</h3>

   <p>To access the Python shell, either type <code>&gt;</code> from the command line
or select <code>Windows-&gt;Python Shell(IDLE...)</code> from the GUI.

<h3 class="section">gnubg module functions</h3>

     <dl>
<dt><code>board()</code>
     <dd><br><dt><code>command(cmd)</code>
     <dd><br><dt><code>evaluate()</code>
     <dd><br><dt><code>evalcontext()</code>
     <dd><br><dt><code>eq2mwc()</code>
     <dd><br><dt><code>mwc2eq()</code>
     <dd><br><dt><code>cubeinfo()</code>
     <dd><br><dt><code>met()</code>
     <dd><br><dt><code>positionid()</code>
     <dd><br><dt><code>positionfromid()</code>
     <dd><br><dt><code>positionkey()</code>
     <dd><br><dt><code>positionfromkey()</code>
     <dd><br><dt><code>positionbearoff()</code>
     <dd><br><dt><code>positionfrombearoff()</code>
     <dd><br><dt><code>navigate([next=</code><var>N</var><code>,[game=</code><var>N</var><code>]])</code>
     <dd>Match navigation.

     <p>Without any arguments, go to first move of first match.

     <p>With next == <var>N</var>, move forward <var>N</var> game records.

     <p>With game == <var>N</var>, move forward/backward <var>N</var> games.

     <p>Navigate never wraps around.

     <p>On success, returns <code>None</code>. If unable to complete the requsted
number of moves, returns a pair of <code>(next-remaining,game-remaining)</code>.

     <br><dt><code>match([analysis=1/0, boards=1/0, statistics=0/1, verbose=0/1])</code>
     <dd>
Return the current <a href="#match">match</a>. For example,

     <pre class="example">          &gt; m = gnubg.match()
          </pre>

     <p>Takes the following optional keyword arguments:

          <dl>
<dt><code>analysis</code>
          <dd>When 0, discard analysis data. default is 1.

          <br><dt><code>boards</code>
          <dd>When 1, add current board to move/double records. Default is 1.

          <br><dt><code>statistics</code>
          <dd>When 1, include game and match statistics. Default is 0.

          <br><dt><code>verbose</code>
          <dd>When 1, include derived analysis values. Default is 0. 
</dl>
</dl>

   <p><a name="match"></a>

<h4 class="subsection">Match description</h4>

   <p><code>gnubg.match()</code> returns a dictionary containing the following
items:

     <dl>
<dt><code>match-info</code>
     <dd>General match info. <a href="#match-info">match-info</a>
<br><dt><code>games</code>
     <dd>A sequence, one elemet per game. <a href="#game">game</a>
<br><dt><code>stats (optional)</code>
     <dd>Match statistics. 
</dl>

   <p><a name="match-info"></a>

<h5 class="subsubsection">Match info</h5>

   <p>A dictionary containing the following items:

     <dl>
<dt><code>match-length</code>
     <dd>
<br><dt><code>variation</code>
     <dd>One of <code>Standard</code>,<code>Nackgammon</code>, <code>Hypergammon1</code>,
<code>Hypergammon2</code> or <code>Hypergammon3</code>.

     <br><dt><code>rules (optional)</code>
     <dd>Additional rules used. A subset of <code>NoCube</code>, <code>Crawford</code> and
<code>Jacoby</code>.

     <br><dt><code>X</code>
     <dd><dt><code>O</code>
     <dd>Per player information. Each a dictionary containing <code>rating</code> and
<code>name</code>. 
<br><dt><code>annotator (optional)</code>
     <dd><br><dt><code>round (optional)</code>
     <dd><br><dt><code>place (optional)</code>
     <dd><br><dt><code>date (optional)</code>
     <dd>Sequence of (Day,Month,Year). 
<br><dt><code>event (optional)</code>
     <dd><br><dt><code>default-eval-context</code>
     <dd>Default evaluation context. A dictionary in the same format as
returned by <code>evalcontext()</code>.

     <br><dt><code>default-rollout-context</code>
     <dd>Default rollout context. 
</dl>

   <p>Example,
<pre class="example">     &gt;&gt;&gt; m['match-info']
     {'match-length': 25, 'rules': ('Crawford',), 'default-eval-context': {'plies': 2, 'deterministic': 1, 'reduced': 0, 'noise': 0.0, 'cubeful': 1}, 'annotator': 'GNU 0.14', 'O': {'rating': '0 (Exp 0)', 'name': 'Moshe Tissona'}, 'round': 'Final', 'place': 'Monte Carlo', 'variation': 'Standard', 'default-rollout-context': {'n-truncation': 11, 'initial-position': 0, 'trials': 0, 'stop-on-std': 0, 'variance-reduction': 1, 'late-eval': 0, 'truncated-rollouts': 0, 'truncate-bearoff2': 1, 'cubeful': 1, 'truncate-bearoffOS': 1, 'seed': 1177750272, 'quasi-random-dice': 1, 'minimum-games': 144}, 'date': (13, 7, 2003), 'X': {'rating': '0 (Exp 0)', 'name': 'Jon Royset'}, 'event': 'World Championship 2003'}
     </pre>

   <p><a name="game"></a>

<h5 class="subsubsection">Python game</h5>

   <p>A dictionary containing the following items:

     <dl>
<dt><code>info</code>
     <dd>General game info. For example,
     <pre class="example">          &gt;&gt;&gt; m['games'][0]['info']
          {'points-won': 1, 'score-X': 0, 'score-O': 0, 'winner': 'X', 'resigned': False}
          </pre>

     <p>If no winner is specified, <code>winner</code> is <code>None</code>.

     <pre class="example">          &gt;&gt;&gt; m['games'][2]['info']
          {'score-X': 2, 'winner': None, 'score-O': 0}
          </pre>

     <br><dt><code>game</code>
     <dd>A Sequence of actions. <a href="#actions">actions</a>

     <br><dt><code>stats (optional)</code>
     <dd>Game statistics. Similar entries to <code>Analyse-&gt;Game statistics</code> from the
GUI. 
</dl>

   <p><a name="actions"></a>

<h5 class="subsubsection">Game actions</h5>

   <p>Each action is a dictionary

<div class="node">
<p><hr>
Node:<a name="Bearoff%20databases">Bearoff databases</a>,
Next:<a rel="next" accesskey="n" href="#Absolute%20ratings">Absolute ratings</a>,
Previous:<a rel="previous" accesskey="p" href="#Scripting">Scripting</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Bearoff databases</h2>

   <p>This section describes what kind of bearoff databases you can use with
<tt>gnubg</tt> as well as how you may obtain these.

<ul class="menu">
<li><a accesskey="1" href="#Introduction%20to%20bearoff%20databases">Introduction to bearoff databases</a>: 
<li><a accesskey="2" href="#Bearoff%20databases%20with%20GNU%20Backgammon">Bearoff databases with GNU Backgammon</a>: 
<li><a accesskey="3" href="#Obtaining%20bearoff%20databases">Obtaining bearoff databases</a>: 
</ul>

<div class="node">
<p><hr>
Node:<a name="Introduction%20to%20bearoff%20databases">Introduction to bearoff databases</a>,
Next:<a rel="next" accesskey="n" href="#Bearoff%20databases%20with%20GNU%20Backgammon">Bearoff databases with GNU Backgammon</a>,
Up:<a rel="up" accesskey="u" href="#Bearoff%20databases">Bearoff databases</a>
<br>
</div>

<h3 class="section">Introduction to bearoff databases</h3>

   <p>There are two kind of bearoff databases: two-sided (exact) bearoff databases
or one-sided (approximative) bearoff databases.

<h4 class="subsection">Two-sided bearoff databases</h4>

   <p>Two-sided bearoff databases contain exact probabilities or equities
for winning.

   <p>For example, for less than 6 chequers inside the home quadrant, each
side has 924 different positions, for a total of 924 * 924 = 853,776
positions possible. The bearoff database will contain the exact
winning probability for each of these 853,776 positions. Typically,
the database also includes cubeful equities for money game. Cubeful
equities for match play is generally not included as it is dependent
on match score and cube level.

   <p>Consider the following position:

<pre class="example">      GNU Backgammon  Position ID: CgAAEAEAAAAAAA
                      Match ID   : cIkMAAAAAAAA
      +13-14-15-16-17-18------19-20-21-22-23-24-+     O: gnubg
      |                  |   |          O  O    | OOO 0 points
      |                  |   |                  | OOO
      |                  |   |                  | OOO
      |                  |   |                  | OO
      |                  |   |                  | OO
     v|                  |BAR|                  |     (Cube: 1)
      |                  |   |                  | XX
      |                  |   |                  | XX
      |                  |   |                  | XXX
      |                  |   |                  | XXX On Roll
      |                  |   |    X        X    | XXX 0 points
      +12-11-10--9--8--7-------6--5--4--3--2--1-+     X: jth
     </pre>

   <p>Using a two-sided bearoff database will yield that player X has 67.1%
cubeless chance of winning. The database also gives cubeful money
equities of +0.3441, +0.3210, and +0.1605 for X owning cube, centred
cube, and O owning cube, respectively. So it's an initial
double since +0.3210 &gt;= 2 * +0.1605. However it's not a redouble since
+0.3441 &gt;= 2 * 0.1605.

   <p>The major problem with two-sided databases is that the size increases
incredible fast with the number of points and chequers:

   <p><table><tr align="left"><td valign="top"><strong>Chequers</strong>
</td><td valign="top"><strong>Points</strong>
</td><td valign="top"><strong>Number of positions</strong>
<br></td></tr><tr align="left"><td valign="top">6         </td><td valign="top">6        </td><td valign="top">853,776
<br></td></tr><tr align="left"><td valign="top">7         </td><td valign="top">6        </td><td valign="top">2,944,656
<br></td></tr><tr align="left"><td valign="top">8         </td><td valign="top">6        </td><td valign="top">9,018,009
<br></td></tr><tr align="left"><td valign="top">... 
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">6        </td><td valign="top">2,944,581,696
<br></td></tr><tr align="left"><td valign="top">... 
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">24       </td><td valign="top">18,528,584,051,601,162,496
   <br></td></tr></table>

   <p><tt>gnubg</tt> stores the equity for each position with a precision of
approximately 0.00003 which requires 2 bytes of storage. Hence,
storing one cubeless and three cubeful equities requires a total of 8
bytes per position. This gives the following storage requirements for
n chequers inside the home quadrant:

   <p><table><tr align="left"><td valign="top"><strong>Chequers</strong>
</td><td valign="top"><strong>Points</strong>
</td><td valign="top"><strong>Number of positions</strong>
</td><td valign="top"><strong>Size/MB</strong>
<br></td></tr><tr align="left"><td valign="top">6         </td><td valign="top">6        </td><td valign="top">853,776        </td><td valign="top">6
<br></td></tr><tr align="left"><td valign="top">7         </td><td valign="top">6        </td><td valign="top">2,944,656      </td><td valign="top">22
<br></td></tr><tr align="left"><td valign="top">8         </td><td valign="top">6        </td><td valign="top">9,018,009      </td><td valign="top">68
<br></td></tr><tr align="left"><td valign="top">9         </td><td valign="top">6        </td><td valign="top">25,050,025     </td><td valign="top">191
<br></td></tr><tr align="left"><td valign="top">10        </td><td valign="top">6        </td><td valign="top">64,128,064     </td><td valign="top">489
<br></td></tr><tr align="left"><td valign="top">11        </td><td valign="top">6        </td><td valign="top">153,165,376    </td><td valign="top">1,168
<br></td></tr><tr align="left"><td valign="top">12        </td><td valign="top">6        </td><td valign="top">344,622,096    </td><td valign="top">2,629
<br></td></tr><tr align="left"><td valign="top">13        </td><td valign="top">6        </td><td valign="top">736,145,424    </td><td valign="top">5,616
<br></td></tr><tr align="left"><td valign="top">14        </td><td valign="top">6        </td><td valign="top">1,502,337,600  </td><td valign="top">11,461
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">6        </td><td valign="top">2,944,581,696  </td><td valign="top">22,465
   <br></td></tr></table>

   <p>For the typical user the limit is probably 10 or 11 chequers unless
she owns vast amounts of disk space. 
Also, the time to generate these databases increases
proportionally with the size. The 15 chequer database takes at least
3,500 times the time it takes to generate the 6 point database. For
example, on the author's 1GHz Pentium III it takes approximately 6
minutes to generate the 6
points database, hence it would take at least 21,000 minutes or
approximately 15 days to generate the 15 point database on the same
computer.

<h4 class="subsection">One-sided bearoff databases</h4>

   <p>Instead of looking at both player's positions simultaneously large
savings can be obtained by looking at each side independently. For
each position we tabulate the probability P(n) what the player will
bear all chequers off in n rolls; P(n) is the one sided bearoff
distribution. Assume player 0 and player 1 has one sided bearoff
distributions P0(n) and P1(n), respectively. The chance of player 0
bearing all chequers off before player 1 is:

   <p>p = sum(i=0 to infinity) P0(i) [ sum(j=i to infinity) P1(j) ]

   <p>For example, consider the following position:

<pre class="example">      GNU Backgammon  Position ID: 2x0AAOi2AQAAAA
                      Match ID   : cAkAAAAAAAAA
      +13-14-15-16-17-18------19-20-21-22-23-24-+     O: gnubg
      |                  |   |       O  O  O  O | O   0 points
      |                  |   |       O  O  O  O | O
      |                  |   |       O  O       | O
      |                  |   |                  | O
      |                  |   |                  | O
     v|                  |BAR|                  |     (Cube: 1)
      |                  |   |                  | X
      |                  |   |                  | X
      |                  |   |             X    | X
      |                  |   |    X  X  X  X    | X   On roll
      |                  |   |    X  X  X  X  X | X   0 points
      +12-11-10--9--8--7-------6--5--4--3--2--1-+     X: jth
     </pre>

   <p>The one sided bearoff distributions are
   <p><table><tr align="left"><td valign="top"><strong>Rolls</strong> </td><td valign="top"><strong>jth</strong> </td><td valign="top"><strong>gnubg</strong>
<br></td></tr><tr align="left"><td valign="top">3 </td><td valign="top">1.917% </td><td valign="top">2.811%
<br></td></tr><tr align="left"><td valign="top">4 </td><td valign="top">18.749% </td><td valign="top">28.403%
<br></td></tr><tr align="left"><td valign="top">5 </td><td valign="top">44.271% </td><td valign="top">50.307%
<br></td></tr><tr align="left"><td valign="top">6 </td><td valign="top">32.998% </td><td valign="top">18.114%
<br></td></tr><tr align="left"><td valign="top">7 </td><td valign="top">2.029% </td><td valign="top">0.363%
<br></td></tr><tr align="left"><td valign="top">8 </td><td valign="top">0.037% </td><td valign="top">0.002%
   <br></td></tr></table>

   <p>Applying the formula above gives:

   <p>1.917% * 100% + 18.749% * 97.189% + 44.271% * 68.786% ... +
0.037% * 0.02% = 56.7%

   <p>The cubeless gwc's calculated from one sided bearoff distributions are
usually quite good, although no thorough investigations have been
performed so far. Although the databases are one sided they can also
give correct moves in "desperation" scenarios.

   <p>By storing the probability to bearoff at least one chequer, it's also
possible to calculate gammon probabilities, as the chance of being
gammoned is the probability that my opponent bears all chequers off
before I bear at least one chequer off. Analogously, it's possible to
calculate the chance of gammoning the opponent.

   <p>The storage requirements are much smaller than for the equivalent two
sided databases.

   <p><table><tr align="left"><td valign="top"><strong>Chequers</strong>
</td><td valign="top"><strong>Points</strong>
</td><td valign="top"><strong>Number of positions</strong>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">6        </td><td valign="top">54,264
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">7        </td><td valign="top">170,544
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">8        </td><td valign="top">490,314
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">9        </td><td valign="top">1,307,504
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">10       </td><td valign="top">3,268,870
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">11       </td><td valign="top">7,726,160
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">12       </td><td valign="top">17,383,860
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">13       </td><td valign="top">37,442,160
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">14       </td><td valign="top">77,558,760
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">15       </td><td valign="top">155,117,250
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">16       </td><td valign="top">300,540,195
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">17       </td><td valign="top">565,722,720
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">18       </td><td valign="top">1,037,158,320
   <br></td></tr></table>

   <p>For example, 15 chequers on 6 points is only 54,264 positions for the
one sided bearoff database compared to 294,458,696 positions for the
equivalent two sided bearoff database. However, for each position we
need to store an array of probabilities. For example, for 15 chequers
on the 18 point we have to store 15 non-zero probabilities compared to
only one in the two sided bearoff database. The table below gives
approximate database sizes for <tt>gnubg</tt>'s one sided databases (both
bearoff and gammon distributions):

   <p><table><tr align="left"><td valign="top"><strong>Chequers</strong>
</td><td valign="top"><strong>Points</strong>
</td><td valign="top"><strong>Size in MB</strong>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">6        </td><td valign="top">1.4
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">7        </td><td valign="top">5
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">8        </td><td valign="top">15
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">9        </td><td valign="top">42
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">10       </td><td valign="top">112
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">11       </td><td valign="top">284
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">12       </td><td valign="top">682
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">13       </td><td valign="top">1,543
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">14       </td><td valign="top">approx 4,300
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">15       </td><td valign="top">approx 10,700
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">16       </td><td valign="top">approx 26,700
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">17       </td><td valign="top">approx 66,700
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">18       </td><td valign="top">approx 166,000
   <br></td></tr></table>

   <p>So, the practical limit is probably around the 11 to 13 point,
depending on the disk space available.

   <p><tt>gnubg</tt> can generate one sided bearoff database where the exact
bearoff distribution is approximated by a normal distribution: instead
of storing up to 15 or 20 non-zero probabilities only two parameters
characterising the normal distribution has to be stored: the mean and
the variance. The approximative distributions yields reasonably
accurate gwc's and gammon probabilities compared to the exact one
sided bearoff database. The size of the these approximative databases
are roughly a quarter of the exact one, hence the limit is around the
13 to 15 point depending on the disk space available. The option to
use approximative bearoff databases is work in progress!

   <p>As with the two sided bearoff databases it can be a rather time
consuming task to generate one sided databases. The 10 point database
takes approximately 2 hours to generate on the author's 1 GHz Pentium
III. The 12 point database may more than one day!

<h4 class="subsection">Hypergammon databases</h4>

   <p><tt>gnubg</tt> can also play Hypergammon; a variant of backgammon with only
3 chequers, but with counting gammons and backgammons. The starting
position is

<pre class="example">      GNU Backgammon  Position ID: AACgAgAAKgAAAA
                      Match ID   : cAkAAAAAAAAA
      +13-14-15-16-17-18------19-20-21-22-23-24-+     O: gnubg
      |                  |   |          X  X  X |     0 points
      |                  |   |                  |
      |                  |   |                  |
      |                  |   |                  |
      |                  |   |                  |
     v|                  |BAR|                  |     (Cube: 1)
      |                  |   |                  |
      |                  |   |                  |
      |                  |   |                  |
      |                  |   |                  |     On roll
      |                  |   |          O  O  O |     0 points
      +12-11-10--9--8--7-------6--5--4--3--2--1-+     X: jth
     Pip counts: O 69, X 69
     </pre>

   <p><tt>gnubg</tt> can also play the two-chequer and one-chequer variations as
well. Although it looks very simple to play, Hypergammon is in fact
quite difficult to play correctly.

   <p>There are 3,276 possible ways to distribute 3 (or less) chequers over 25 points
(the 24 points plus the bar). This gives a total of 10,732,176
possible two sided positions. However, many these are illegal:

   <p><table><tr align="left"><td valign="top"><strong>Position type</strong>
</td><td valign="top"><strong>Number of positions</strong>
<br></td></tr><tr align="left"><td valign="top">Game over         </td><td valign="top">6,551
<br></td></tr><tr align="left"><td valign="top">Race (no contact) </td><td valign="top">587,926
<br></td></tr><tr align="left"><td valign="top">Contact           </td><td valign="top">7,365,427
<br></td></tr><tr align="left"><td valign="top">Illegal positions </td><td valign="top">2,772,272
<br></td></tr><tr align="left"><td valign="top">Total             </td><td valign="top">10,732,176
   <br></td></tr></table>

   <p>So there is close to 8 million legal positions for Hypergammon. Since
this is a relative small number it's possible to tabulate the game
winning chance, cubeless equity, or cubeful equities for all
positions.

   <p>Due to the contact positions it is not possible to generate such a
database in one run; instead the process is iterative: (a) "guess"
equities for the 8 million positions, (b) use these equities to calculate 1-ply
equities for all positions, and (c) if the equities change
significantly then go back to step (c).

<div class="node">
<p><hr>
Node:<a name="Bearoff%20databases%20with%20GNU%20Backgammon">Bearoff databases with GNU Backgammon</a>,
Next:<a rel="next" accesskey="n" href="#Obtaining%20bearoff%20databases">Obtaining bearoff databases</a>,
Previous:<a rel="previous" accesskey="p" href="#Introduction%20to%20bearoff%20databases">Introduction to bearoff databases</a>,
Up:<a rel="up" accesskey="u" href="#Bearoff%20databases">Bearoff databases</a>
<br>
</div>

<h3 class="section">Bearoff databases with GNU Backgammon</h3>

   <p><tt>gnubg</tt> works with both one sided and two sided bearoff
databases. Currently, it works with up to four databases; two of each
kind. Two of the databases are read into memory for fast access, but
of course these are limited to very small databases.

   <p>The one sided database kept in memory is either built-in or stored on
disk as <code>gnubg_os0.bd</code> depending on the compile time option
<code>USE_BUILTIN_BEAROFF</code>, which is most easily controlled by passing
the option <code>--enable-bearoff=TYPE</code> where <code>type</code> is either
<code>no</code>, <code>static</code>, or <code>external</code>. <tt>gnubg</tt> can also work
without this database, but will generate a heuristic version every
time the program starts. This can take up to several minutes,
depending on the speed of your computer.

   <p>We recommend using an external file as the executable will be smallest
possible, and several running instances of gnubg will share the memory
if your system has mmap (memory mapping of files).

   <p>The standard size is 15 chequers on 6 points, but you may
generate a larger one, but remember that the <tt>gnubg</tt> will read the
file into memory. The default size should be adequate for all
purposes.

   <p>The two sided database kept in memory (<code>gnubg_ts0.bd</code>) is
optional and you may generate or download your own (see next section
for details). <tt>gnubg</tt> will use the exact cubeful equities in the
databases for cubeful money game evaluations and for truncation in
money game rollouts (see (insert ref to rollout chapter)).

   <p><tt>gnubg</tt> cannot directly use the equities for match play as the
equities, in general, depend on the match score, cube value, and cube
ownership. However, it's possible to calculate the cube efficiency
parameter X from Rick Janowski's formulae from the cubeful money
equities that are available. This is very important as the cube
efficiency parameter often is very different from the range 0.6 and
0.68 that <tt>gnubg</tt> uses for long bearoffs and contact play,
respectively. The calculated value of X is used in
match play generalisation of Janowski's to yield cubeful match winning
chances. <tt>gnubg</tt> uses a similar heuristic for Hypergammon (see below).

   <p>The two databases (<code>gnubg_os.bd</code> and
<code>gnubg_ts.bd</code>) are kept on disk and accessed when
needed. See next section for details on how to generate or download
your own.

   <p>A few words of caution: the race neural net in <tt>gnubg</tt> is believed to
be quite good, so it may not be worthwhile to generate large one sided
database. Joseph Heled has published a comparison of chequer play
decisions between the 0.13 race net and a one sided bearoff database
for 15 chequers on 12 points. A total of 34,165 positions were
examined, and the error rates were quite small:

   <p><table><tr align="left"><td valign="top"><strong>Ply</strong>
</td><td valign="top"><strong>Error rate/positions</strong>
</td><td valign="top"><strong>Number of errors</strong>
</td><td valign="top"><strong>Percentage of positions with errors</strong>
<br></td></tr><tr align="left"><td valign="top">0   </td><td valign="top">0.00025   </td><td valign="top">3231   </td><td valign="top">9.5
<br></td></tr><tr align="left"><td valign="top">1   </td><td valign="top">0.00032   </td><td valign="top">3418   </td><td valign="top">10.0
<br></td></tr><tr align="left"><td valign="top">2   </td><td valign="top">0.00002   </td><td valign="top">1255   </td><td valign="top">3.7
   <br></td></tr></table>

   <p>In order to play or analyse Hypergammon matches or session you need
the databases <code>hyper1.bd</code>, <code>hyper2.bd</code>, and <code>hyper3.bd</code>
for 1-chequer, 2-chequer, and 3-chequer (normal) Hypergammon. These
databases contain the cubeless game winning chance, gammon, and
backgammon probabilities (based on cubeless money play without Jacoby
rule), and cubeful equities for money game: centered cube (with Jacoby
rule), centered cube (without Jacoby rule), owned cube, and
unavailable cube. For match play <tt>gnubg</tt> uses a similar heuristic to
the usage of the two-sided bearoff database in match play for normal
backgammon: the cube efficiency parameter X from Janowski's formulae
are estimated from the cubeful money equities.

   <p>Each position requires 28 bytes of storage. For easy indexing of the
file <tt>gnubg</tt> also use storage for the illegal positions. The table
below shows the size of the Hypergammon databases.

   <p><table><tr align="left"><td valign="top"><strong>Number of chequers</strong>
</td><td valign="top"><strong>Number of positions</strong>
</td><td valign="top"><strong>Size of file/bytes</strong>
<br></td></tr><tr align="left"><td valign="top">1   </td><td valign="top">676         </td><td valign="top">19,968
<br></td></tr><tr align="left"><td valign="top">2   </td><td valign="top">123,201     </td><td valign="top">3,449,668
<br></td></tr><tr align="left"><td valign="top">3   </td><td valign="top">10,732,176  </td><td valign="top">300,500,968
   <br></td></tr></table>

<div class="node">
<p><hr>
Node:<a name="Obtaining%20bearoff%20databases">Obtaining bearoff databases</a>,
Previous:<a rel="previous" accesskey="p" href="#Bearoff%20databases%20with%20GNU%20Backgammon">Bearoff databases with GNU Backgammon</a>,
Up:<a rel="up" accesskey="u" href="#Bearoff%20databases">Bearoff databases</a>
<br>
</div>

<h3 class="section">Obtaining bearoff databases</h3>

<h4 class="subsection">Generate your own</h4>

   <p><tt>gnubg</tt> is supplied with a program <code>makebearoff</code> that is used to
generate bearoff databases. Due to various limitations it is only
possible to generate bearoff databases with a size less than 2GB,
i.e., the 13pt one-sided database and the 11 chequer two-sided
database are the largest databases that can be generated with
<code>makebearoff</code>.

   <p>To generate one sided database issue

<pre class="example">     makebearoff -o 10 -f gnubg_os.bd
     </pre>

   <p>to generate the one sided 10 point database. The program
<code>makebearoff</code> uses a cache to store previously generated
positions. You may set the cache size with the <code>-s size</code>
option, e.g.,

<pre class="example">     makebearoff -o 10 -s 123456789 -f gnubg_os.bd
     </pre>

   <p>to use 123,456,789 bytes of memory for cache size. In general, if the
cache size is less than the size of the database to be generated, then
extra time is needed to generate the bearoff database because some
positions may have to be calculated several times.

   <p><code>makebearoff</code> can also reuse previously generated databases, so
if you already had generated the 9 point database you can reuse it:

<pre class="example">     mv gnubg_os.bd gnubg_os9.bd
     makebearoff -o 10 -O gnubg_os9.bd -f gnubg_os.bd
     </pre>

   <p>Note that <code>makebearoff</code> requires temporary disk space to generate
both one sided and two sided databases. In general, twice the disk
space of the database to be generated is needed.

   <p>To generate a two sided database issue

<pre class="example">     makebearoff -t 6x8 -f gnubg_ts.bd
     </pre>

   <p>This example will generate the 8 chequers on 6 points database. Again,
it's possible to adjust the amount of memory with the <code>-s</code>
option. It's recommended to set the cache size to the maximum amount of memory
available (although there is no need to set it beyond the size of the
bearoff database to be generated).

   <p>Other options for <code>makebearoff</code> are available, see
<code>makebearoff --help</code> for the complete set.

   <p>At compile time the built-in one sided
bearoff database is generated with the command

<pre class="example">     makebearoff -o 6 | makebearoff1 -o br1.c
     </pre>

   <p>which generated a 6 point one sided bearoff database. The database is
piped into makebearoff1 that generates the C code for the
database. The resulting <code>br1.c</code> is more than 8MB, so it's not
distributed with the source for <tt>gnubg</tt>.

   <p>The accompanying program <code>makehyper</code> is used to generate
databases for Hypergammon. For example, to generate the 3-chequer
database issue the command

<pre class="example">     makehyper -c 3 -f hyper3.bd
     </pre>

   <p>Since the generation is <em>very</em> time consuming <code>makehyper</code>
will generate a checkpoint file (in the example above:
<code>hyper1.bd.tmp</code>) that can be used to restart the calculation if
needed by using the <code>-r</code> option. You can also change the
default convergence threshold of 0.00001 if you're happy with less
accurate equities. To generate the 3 chequer database you need
approximately 400 MB of free memory. On a 2.4 GHz box with 512 MB of
RAM the calculation ran for 58 iterations of 3000 seconds each, i.e., a
total of 48 hours!

   <p>See <code>makehyper --help</code> for the complete set of available
options.

<h4 class="subsection">Download</h4>

   <p>You may download the two sided database with 6 chequers on 6 points from
<a href="ftp://alpha.gnu.org/gnu/gnubg/gnubg_ts0.bd.gz">ftp://alpha.gnu.org/gnu/gnubg/gnubg_ts0.bd.gz</a> and the one sided
database with 15 chequers 6 points from
<a href="ftp://alpha.gnu.org/gnu/gnubg/gnubg_os0.bd.gz">ftp://alpha.gnu.org/gnu/gnubg/gnubg_os0.bd.gz</a>.

   <p>Later, other databases may be available for download or it may be
possible to purchase these on CDROM or DVD for a nominal fee.

<h4 class="subsection">Verification of databases</h4>

   <p>To verify that your generated or downloaded bearoff database is
correct, the table below lists the MD5 checksums for a number of
possible databases.

<h5 class="subsubsection">One-sided bearoff databases (compressed)</h5>

   <p>The table below contains the MD5 checksums for the compressed one
sided bearoff databases, i.e., databases generated with default options.

   <p><table><tr align="left"><td valign="top"><strong>Chequers</strong>
</td><td valign="top"><strong>Points</strong>
</td><td valign="top"><strong>MD5 checksum</strong>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">1        </td><td valign="top"><code>c789f049ec98ce4e307b471257999f39</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">2        </td><td valign="top"><code>b6e61c1625ae4b3b164e93ab064192b9</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">3        </td><td valign="top"><code>346dae6139ccb4b227c534373e5c52e4</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">4        </td><td valign="top"><code>653255f5f9f22fd50277f7ff25b2a343</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">5        </td><td valign="top"><code>2064f9a56b23117d053a573c96a92fa2</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">6        </td><td valign="top"><code>3dc7b833c4670849cee00479a9e21b49</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">7        </td><td valign="top"><code>67235c8e0ee152df5daf36cbeae5b3c2</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">8        </td><td valign="top"><code>a4acbb5c7e9e1f08e561afe0af934e5c</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">9        </td><td valign="top"><code>9c4ddab4e51c3e668c9c97b8f8768dbc</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">10       </td><td valign="top"><code>81b3898f06bbd08ee8295a839251a10a</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">11       </td><td valign="top"><code>78ecb4be86dab6af8755ea4063d50fb6</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">12       </td><td valign="top"><code>770fcff48894a96ebb2249343ef94866</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">13       </td><td valign="top"><code>cc74b69a62f6e648936f533838a527a8</code>
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">14       </td><td valign="top">not available
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">15       </td><td valign="top">not available
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">16       </td><td valign="top">not available
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">17       </td><td valign="top">not available
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">18       </td><td valign="top">not available
   <br></td></tr></table>

<h4 class="subsection">Two-sided bearoff databases (with cubeless and cubeful equities)</h4>

   <p>The table below contains the MD5 checksums for the default two
sided bearoff databases.

   <p><table><tr align="left"><td valign="top"><strong>Chequers</strong>
</td><td valign="top"><strong>Points</strong>
</td><td valign="top"><strong>MD5 checksum</strong>
<br></td></tr><tr align="left"><td valign="top">1         </td><td valign="top">6        </td><td valign="top"><code>7ed6f8e7fce16ea2b80e07a4a516653c</code>
<br></td></tr><tr align="left"><td valign="top">2         </td><td valign="top">6        </td><td valign="top"><code>e9d760bf213841c285245ed757a52f4d</code>
<br></td></tr><tr align="left"><td valign="top">3         </td><td valign="top">6        </td><td valign="top"><code>9d67da3db32ad4720cc38eecf9a67967</code>
<br></td></tr><tr align="left"><td valign="top">4         </td><td valign="top">6        </td><td valign="top"><code>9156f37032d1d4b0352a41186e632dfc</code>
<br></td></tr><tr align="left"><td valign="top">5         </td><td valign="top">6        </td><td valign="top"><code>0db19ab08feae1feb33ddbd709479f62</code>
<br></td></tr><tr align="left"><td valign="top">6         </td><td valign="top">6        </td><td valign="top"><code>44b6040b49b46cb9dd2ce8caa947044d</code>
<br></td></tr><tr align="left"><td valign="top">7         </td><td valign="top">6        </td><td valign="top"><code>9eb8b042d4d2ddf8d40e74a892745ad5</code>
<br></td></tr><tr align="left"><td valign="top">8         </td><td valign="top">6        </td><td valign="top"><code>fcdbbc80b7ef84ddc81b839d0f26bed1</code>
<br></td></tr><tr align="left"><td valign="top">9         </td><td valign="top">6        </td><td valign="top"><code>a11b2d410d51401143d05e73f9ffac15</code>
<br></td></tr><tr align="left"><td valign="top">10        </td><td valign="top">6        </td><td valign="top"><code>12dc70c86f356d06bc96ee38dee40c62</code>
<br></td></tr><tr align="left"><td valign="top">11        </td><td valign="top">6        </td><td valign="top">not available
<br></td></tr><tr align="left"><td valign="top">12        </td><td valign="top">6        </td><td valign="top">not available
<br></td></tr><tr align="left"><td valign="top">13        </td><td valign="top">6        </td><td valign="top">not available
<br></td></tr><tr align="left"><td valign="top">14        </td><td valign="top">6        </td><td valign="top">not available
<br></td></tr><tr align="left"><td valign="top">15        </td><td valign="top">6        </td><td valign="top">not available
   <br></td></tr></table>

<h5 class="subsubsection">Two-sided databases for Hypergammon</h5>

   <p>As the generation of the Hypergammon databases are an iterative
process it's not possible to give MD5 checksum for these, as it depend
heavily on your convergence threshold, the number of restarts, and
rounding errors.

   <p>Below is a random position from the database. The equities and
percentages in your own database should be very similiar (if not identical):

<pre class="example">      GNU Backgammon  Position ID: ADAAAQAkIAAAAA
                      Match ID   : cAkAAAAAAAAA
      +13-14-15-16-17-18------19-20-21-22-23-24-+     O: gnubg
      |       X     X    |   |                X |     0 points
      |                  |   |                  |
      |                  |   |                  |
      |                  |   |                  |
      |                  |   |                  |
     v|                  |BAR|                  |     (Cube: 1)
      |                  |   |                  |
      |                  |   |                  |
      |                  |   |                  |
      | O                |   |                  |     On roll
      | O                |   |             O    |     0 points
      +12-11-10--9--8--7-------6--5--4--3--2--1-+     X: jth
     
                  Player       Opponent
     Position         3018          2831
     
     Owned cube                    : -0.0230
     Centered cube                 : -0.2310
     Centered cube (Jacoby rule)   : -0.2186
     Opponent owns cube            : -0.3548
     
             Win     W(g)    W(bg)   L(g)    L(bg)   Equity  (cubeful)
     static: 0.456   0.244   0.014   0.318   0.019   (-0.168  (-0.219))
     
     
     No double           : -0.219
     Double, pass        : +1.000   (+1.219)
     Double, take        : -0.710   (-0.491)
     
     Correct cube action: No double, beaver
     
     </pre>

<div class="node">
<p><hr>
Node:<a name="Absolute%20ratings">Absolute ratings</a>,
Next:<a rel="next" accesskey="n" href="#Additional%20documentation">Additional documentation</a>,
Previous:<a rel="previous" accesskey="p" href="#Bearoff%20databases">Bearoff databases</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Absolute ratings</h2>

   <a href="mailto:kvandoel@xs4all.nl">Kees van den Doel</a>

<h4 class="subsection">Summary</h4>

   <p>Simulations were performed to establish the relation between the rating
difference (<strong>R</strong>) between backgammon players of various strengths, and the
error rates for the two players. This will allow a match analysis to translate
the error rate of each player into an estimation of the absolute ratings of the
players, once the rating of &amp;quot;perfect play&amp;quot; has been defined. Of
course, this estimate will be only as good as the quality of the analysis and
will become invalid for the estimation of the rating of players at a comparable
level as at which the analysis was performed. However, the measured relation
does not depend on the analysis level and remains valid for very high levels of
analysis such as rollouts.

   <p>Two sets of simulations were performed. In the first the relation between
the difference in normalized error rate per unforced decision (<strong>DEPD</strong>) and
rating difference <strong>R</strong> was measured. The main result of the first
simulation set is an almost linear relation between <strong>DEPD</strong> and <strong>R</strong>,
which depends somewhat on the match length. As a by-product of this
investigation the relative strengths of various playing levels of GNUBG were
determined precisely by rating.

   <p>The second set of simulations attempts to improve on the linear model of the
first set, by separating out the effects of cube errors and chequer play
errors. A bilinear fit was made of <strong>R</strong> to both the normalized chequer play
error per unforced move (<strong>EPM</strong>) and the cube error per unforced cube
decision (<strong>EPC</strong>). The resulting bilinear fit is shown to improve the
prediction of the rating difference, especially for matches with very poor cube
handling compared to chequer play.

   <p>The scripts used for the simulations and a readme file explaining their use
are available
<a href="http://www.cs.ubc.ca/~kvdoel/tmp/ratings/gnubgScripts.zip">here</a>.

   <p>The final result is the following formula for the rating difference:<br><strong>R = a2(N)*EPM+b(N)*EPC</strong>,<br>
where<br><strong>a2(N) = 8798 + 25526/N</strong>,<br>
and<br><strong>b(N) = 863 - 519/N</strong>.

<h3 class="section">Part I: Rating and DEPD</h3>

<h4 class="subsection">Introduction</h4>

   <p>In order to estimate the rating difference between playing levels we played
a series of 1000 matches of a given match length between various levels and
estimated the rating difference by analyzing the results. From the analysis we
obtain the normalized error rate per unforced decision and the &amp;quot;luck
adjusted result&amp;quot; (<strong>P</strong>), which is an estimate of the match winning
probability using variance reduction. These numbers were averaged over the 1000
matches and the variance was also estimated. The rating difference <strong>R</strong> and
a 90% confidence interval was then estimated from the 90% confidence interval
of <strong>P</strong> using the FIBS rating formula, <strong>P = 1/(1 + 10^(R*sqrt(N)/2000))</strong>,
with <strong>N</strong> the match length.

   <p>Simulations were performed for match lengths of 1, 3, 5, 7, 11, and 23. For
practical reasons it was necessary to perform the error and luck analysis at
0-ply (expert level of GNUBG) and consider only levels at the expert level
(0-ply) and below (0-ply with noise addition). Equal noise was generated for
chequer play and for cube decisions. The following levels (0-ply with given
noise) were paired:

   <p><table><tr align="left"><td valign="top"><strong>player 1</strong>
</td><td valign="top"><strong>player 2</strong>
<br></td></tr><tr align="left"><td valign="top">0
</td><td valign="top">0.005
<br></td></tr><tr align="left"><td valign="top">0
</td><td valign="top">0.015
<br></td></tr><tr align="left"><td valign="top">0
</td><td valign="top">0.02
<br></td></tr><tr align="left"><td valign="top">0
</td><td valign="top">0.04
<br></td></tr><tr align="left"><td valign="top">0
</td><td valign="top">0.06
<br></td></tr><tr align="left"><td valign="top">0.04
</td><td valign="top">0.06
<br></td></tr><tr align="left"><td valign="top">Level pairings
   <br></td></tr></table>

   <p>The assumption that the rating difference between players depends only
on <strong>DEPD</strong>
and not on the absolute level of play was verified implicitly with this choice
as the last pairing has both players with noise addition. If the
absolute <strong>EPD</strong>
mattered the last pairing would give results inconsistent with the first five,
which is not the case except for 1pt matches where as described in the results
section.

   <p>With these settings, the simulation took about 100 hours on a 950Mhz Pentium
III. Simulations were performed on Windows XP, using GAWK and sh scripts within
the GNU ULTILS in combination with the no-GUI version of GNUBG (build 03 08
07). They should work equally well on LINUX.

   <p>Three AWK scripts are used to create GNUBG scripts to play a given number of
matches, analyze them, and to collect statistics. Separate scripts were used in
order to modularize the tasks so the simulation can be interrupted and
continued without loss of data. The resulting match statistics were then
processed trough a fourth AWK script which computes the average rating <strong>R</strong>,
and the average <strong>DEPD</strong> over the set, as well as the 90% confidence
intervals as estimated for a variance estimation. The levels of the players and
the analysis level is set in the .gnubgautorc file, outside the scripts. 
Further analysis was then performed in MATLAB.

<h4 class="subsection">Results</h4>

   <p>The results of the simulations are given in the figure below for all
match lengths.

   <img src="rall.png" alt="rall.png">
<strong>R</strong> versus <strong>DEPD</strong> for various match lengths

   <p>More detailed results are given in the figures below for each specific
match length. The measured data points are indicated by the
circles. The red line is a piecewise linear interpolation through the
data points. The black lines indicate the 90% confidence interval. The
green line is a least square fit through the data points (minimizing
the sum of squares of absolute rating differences)

   <img src="r3.png" alt="r3.png">
3pt match

   <img src="r5.png" alt="r5.png">
5pt match

   <img src="r7.png" alt="r7.png">
7pt match

   <img src="r11.png" alt="r11.png">
11pt match

   <img src="r23.png" alt="r23.png">
23pt match

   <img src="r1.png" alt="r1.png">
1pt match

   <p>For all match length except 1, the linear fit seems quite good and we can
approximate the rating difference by <strong>R= a(N)*DEPD</strong>, where
<strong>N</strong> is the match length. The function <strong>N*a(N)</strong> is
plotted in the figure below, along with a linear least square fit.

   <img src="lsqcoeff.png" alt="lsqcoeff.png">
Coefficient <strong>N*a(N)</strong> versus match length

   <p>The linear fit of <strong>N*a(N)</strong> gives the following rating
formula:<br><strong>R = (11971 + 23681/N) * DEPD</strong>. <br> In the figure
below the formula is plotted along with the actual data points;

   <img src="rallfitted.png" alt="rallfitted.png">

   <p>Rating versus <strong>DEPD</strong> approximated by <strong>R = (11971 +
23681/N) * DEPD</strong>. The dotted lines are the prediction, the solid lines
are piecewise linear segments through the data.

   <p>The bump in the curve for the 1pt match around <strong>DEPD=0.015</strong> is
caused by the data point from the <strong>0.04 - 0.06</strong> (intermediate -
beginner). Apparently the approximation that the rating difference
does not depend on the absolute values of the error rates is less
accurate for 1pt matches.

   <p>Note that, for the purpose of measuring <strong>DEPD</strong> between simulated
players, it is a reasonable approximation to analyze a match at expert level if
both players are playing at expert level or worse. This is because we are only
interested in the difference between the error rates. When a match is
re-analyzed at World Class level (2-ply) the individual error rates increase,
but the difference remains approximately constant. To verify this explicitly,
we ran 2 sets of 40 matches between 0-ply expert level and 0-ply advanced level
(.015 noise) and analyzed them both at 0-ply and at 2-ply. The results
are given in the table below.

   <p><table><tr align="left"><td valign="top"><strong>0-ply</strong>
</td><td valign="top"><strong>2-ply</strong>
<br></td></tr><tr align="left"><td valign="top">0.0075
<br></td></tr><tr align="left"><td valign="top">0.0068
<br></td></tr><tr align="left"><td valign="top">0.0080
<br></td></tr><tr align="left"><td valign="top">0.0072
   <br></td></tr></table>
2-ply versus 0-ply <strong>DEPD</strong> testimates

   <p>We see that the error in the 0-ply estimation appears to be in the order of 5%. 
As an additional verification, a set of 100 3 pt matches was played between the
World Class level (2-ply) and the expert level which was analyzed at 2-ply. It
was found that the resulting <strong>DEPD</strong> and rating difference <strong>R</strong> was
well predicted by the model. The data point is indicated by the 'X' on the
figure for the 3pt match above and fits well on the curve.

<h4 class="subsection">Conclusions</h4>

   <p>The data is well approximated by a linear relation between rating
difference and error per decision difference of the form
<strong>R=a(N)*DEPD</strong> where <strong>N</strong> is the match length. An
excellent approximation for <strong>a(N)</strong> is <strong>a(N) = 23681/N +
11971</strong>. The approximation is worst for <strong>N=1</strong>. The assumption
that <strong>R</strong> does not depend on the absolute <strong>EPD</strong> but only
on the difference was validated, except for <strong>N=1</strong>. The
assumption that<strong>DEPD</strong> for matches between players at or below
the GNUBG expert level can we approximated by a 0-ply analysis was
verified by re-analyzing some matches at 2-ply with small effect on
the <strong>DEPD</strong>. An explicit simulation of a series of 2-ply versus
0-ply matches resulted in an estimated <strong>R</strong> which fitted the
model very well, supporting the assumption that the linear relation
between <strong>R</strong> and <strong>DEPD</strong> is valid for any level of
analysis.

<h3 class="section">Part II: Rating and EPM and EPC</h3>

<h4 class="subsection">Introduction</h4>

   <p>In the above we have assumed that the rating depends only on<strong>DEPD = (totMoveErrors + totCubeErrors)/totalDecisions</strong>. In reality the
rating difference will depend on some combination of chequerplay skill and cube
skill, at which the above formula makes an educated guess. A more powerful
predictor taking into account the separate effect of cube errors and
chequerplay errors can be obtained by simulating matches with independently
varied cube and chequerplay noise and fitting the rating by a bilinear form <strong>R=
a2(N)*EPM +b(N)*EPC</strong>, with <strong>EPC = moverErr/unforcedMoves</strong> and <strong>EPC=cubeErr/unforcedCubeDecisions</strong>.

   <p>For match lengths of 3, 5, 7, 11, and 23, 500 matches between GNUBG 0-ply
and GNUBG 0-ply with 16 different noise settings were played. The chequer play
noise settings were <strong>0, 0.02, 0.04, 0.06</strong> and the cube play noise settings
were <strong>0.05, 0.1, 0.4, 0.8</strong>, 16 combinations in total. For each set of 500
matches the <strong>EPM</strong> and <strong>EPC</strong> were averaged. The rating difference was estimated as
in Part I by using the luck adjusted result.

   <p>For each match length the 16 data points were fitted to <strong>R = a2(N)*EPM
+b(N)*EPC</strong> with a least square method, minimizing the squares of the rating
differences. For <strong>N=1</strong> there are no cube decisions and <strong>a2(1) = a(1) = 37916</strong>.

<h4 class="subsection">Results</h4>

   <p>In the figures, below, we plot <strong>R</strong> against <strong>DEPD</strong>. 
The green &amp;quot;O&amp;quot; indicates the measure rating differences, the green
dots the 90% confidence interval of the data, the red &amp;quot;X&amp;quot; indicates
the linear fit using the formula from Part I, and the blue &amp;quot;X&amp;quot;
indicates the prediction from the bilinear fit with the coefficients a2 and b as
indicated.

   <img src="d3.png" alt="d3.png">
Measurements and fit for match length 3.

   <img src="d5.png" alt="d5.png">
Measurements and fit for match length 5.

   <img src="d7.png" alt="d7.png">
Measurements and fit for match length 7.

   <img src="d11.png" alt="d11.png">
Measurements and fit for match length 11.

   <img src="d23.png" alt="d23.png">
Measurements and fit for match length 23.

   <p>The coefficients <strong>a2(N)</strong> and <strong>b(N)</strong> as a function of
match length are well approximated by a linear function of
<strong>1/N</strong>. We show these coefficients and a linear fit in the two
figures below.

   <img src="fita2.png" alt="fita2.png">
Fitting <strong>Na2(N)</strong> with  a linear function.

   <img src="fitb.png" alt="fitb.png">
Fitting <strong>Nb(N)</strong> with a linear function.

<h4 class="subsection">Conclusions</h4>

   <p>The bilinear fit improves the linear fit especially for
large cube errors. Usually the linear estimate is too high, reflecting too much
weight given to the cube errors, for which the bilinear formula corrects. The
data is well approximated by<br><strong>R = a2(N)*EPM+b(N)*EPC</strong>,<br>
where<br><strong>a2(N) = 8798 + 25526/N</strong>,<br>
and<br><strong>b(N) = 863 - 519/N</strong>.

<h4 class="subsection">Appendix: Misc. measurements</h4>

   <p><table><tr align="left"><td valign="top"><strong>Player1</strong>
</td><td valign="top"><strong>Player2</strong>
</td><td valign="top"><strong>Match length</strong>
</td><td valign="top"><strong>R1-R2</strong>
</td><td valign="top"><strong>DEPD (e2-e1)</strong>
</td><td valign="top"><strong>EPM</strong>
</td><td valign="top"><strong>EPC</strong>
<br></td></tr><tr align="left"><td valign="top">expInt
</td><td valign="top">intExp
</td><td valign="top">5pt
</td><td valign="top">472 [451 493]
</td><td valign="top">-
</td><td valign="top">-0.0344
</td><td valign="top">-0.01
<br></td></tr><tr align="left"><td valign="top">expBeg
</td><td valign="top">advExp
</td><td valign="top">5pt
</td><td valign="top">115 [103 127]
</td><td valign="top">-
</td><td valign="top">-0.00865
</td><td valign="top">+0.0176
<br></td></tr><tr align="left"><td valign="top">expExp
</td><td valign="top">expBeg
</td><td valign="top">5pt
</td><td valign="top">31 [21 41]
</td><td valign="top">-
</td><td valign="top">0
</td><td valign="top">-0.0185
<br></td></tr><tr align="left"><td valign="top">expExp
</td><td valign="top">expBeg
</td><td valign="top">11pt
</td><td valign="top">29 [23 36]
</td><td valign="top">-
</td><td valign="top">0
</td><td valign="top">-0.0165
<br></td></tr><tr align="left"><td valign="top">expExp
</td><td valign="top">expBeg2 (1.0 cubenoise)
</td><td valign="top">5pt
</td><td valign="top">191 [176 206]
</td><td valign="top">-
</td><td valign="top">0
</td><td valign="top">-0.192
<br></td></tr><tr align="left"><td valign="top">wclassWclass
</td><td valign="top">wclassExp
</td><td valign="top">5pt
</td><td valign="top">6 [-15 27]
</td><td valign="top">-
</td><td valign="top">-
</td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">1-ply
</td><td valign="top">0-ply
</td><td valign="top">5pt
</td><td valign="top">13 [-4 30]
</td><td valign="top">-
</td><td valign="top">-
</td><td valign="top">-
   <br></td></tr></table>

   <p>Some misc.  measurements. expBeg for example means chequer play at
level expert, cubeplay at level beginner. Rating interval is the 90%
confidence interval.

<div class="node">
<p><hr>
Node:<a name="Additional%20documentation">Additional documentation</a>,
Next:<a rel="next" accesskey="n" href="#GNU%20Free%20Documentation%20License">GNU Free Documentation License</a>,
Previous:<a rel="previous" accesskey="p" href="#Absolute%20ratings">Absolute ratings</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="chapter">Additional documentation</h2>

   <p>A tutorial written by Albert Silver is available at Tom Keith's
Backgammon Galore <a href="http://www.bkgm.com/gnu/AllAboutGNU.html">All About GNU</a>. An Italian translation is available from
<a href="http://members.xoom.virgilio.it/free_bgammon/">Tutto su GNU</a> by
courtesy of Renzo Campagna, Giulio De Marco and Alberta di Silvio.

<div class="node">
<p><hr>
Node:<a name="GNU%20Free%20Documentation%20License">GNU Free Documentation License</a>,
Next:<a rel="next" accesskey="n" href="#Command%20Index">Command Index</a>,
Previous:<a rel="previous" accesskey="p" href="#Additional%20documentation">Additional documentation</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="unnumbered">GNU Free Documentation License</h2>

<div align="center">Version 1.1, March 2000</div>
<pre class="display">     Copyright (C) 2000  Free Software Foundation, Inc.
         59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
     Everyone is permitted to copy and distribute verbatim copies
     of this license document, but changing it is not allowed.
     </pre>

<h3 class="unnumberedsec">Preamble</h3>

   <p>The purpose of this License is to make a manual, textbook, or other
written document "free" in the sense of freedom: to assure everyone
the effective freedom to copy and redistribute it, with or without
modifying it, either commercially or noncommercially.  Secondarily,
this License preserves for the author and publisher a way to get
credit for their work, while not being considered responsible for
modifications made by others.

   <p>This License is a kind of "copyleft", which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

   <p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.

<h3 class="unnumberedsec">APPLICABILITY AND DEFINITIONS</h3>

   <p>This License applies to any manual or other work that contains a
notice placed by the copyright holder saying it can be distributed
under the terms of this License.  The "Document", below, refers to any
such manual or work.  Any member of the public is a licensee, and is
addressed as "you".

   <p>A "Modified Version" of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

   <p>A "Secondary Section" is a named appendix or a front-matter section of
the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall subject
(or to related matters) and contains nothing that could fall directly
within that overall subject.  (For example, if the Document is in part a
textbook of mathematics, a Secondary Section may not explain any
mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

   <p>The "Invariant Sections" are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.

   <p>The "Cover Texts" are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.

   <p>A "Transparent" copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, whose contents can be viewed and edited directly and
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup has been designed to thwart or discourage
subsequent modification by readers is not Transparent.  A copy that is
not "Transparent" is called "Opaque".

   <p>Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input format, SGML
or XML using a publicly available DTD, and standard-conforming simple
HTML designed for human modification.  Opaque formats include
PostScript, PDF, proprietary formats that can be read and edited only
by proprietary word processors, SGML or XML for which the DTD and/or
processing tools are not generally available, and the
machine-generated HTML produced by some word processors for output
purposes only.

   <p>The "Title Page" means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, "Title Page" means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

<h3 class="unnumberedsec">VERBATIM COPYING</h3>

   <p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

   <p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.

<h3 class="unnumberedsec">COPYING IN QUANTITY</h3>

   <p>If you publish printed copies of the Document numbering more than 100,
and the Document's license notice requires Cover Texts, you must enclose
the copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition. 
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

   <p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

   <p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a publicly-accessible computer-network location containing a complete
Transparent copy of the Document, free of added material, which the
general network-using public has access to download anonymously at no
charge using public-standard network protocols.  If you use the latter
option, you must take reasonably prudent steps, when you begin
distribution of Opaque copies in quantity, to ensure that this
Transparent copy will remain thus accessible at the stated location
until at least one year after the last time you distribute an Opaque
copy (directly or through your agents or retailers) of that edition to
the public.

   <p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.

<h3 class="unnumberedsec">MODIFICATIONS</h3>

   <p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

     <ol type=A start=1>
<li>Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

     <li> List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has less than five).

     <li>State on the Title page the name of the publisher of the
Modified Version, as the publisher.

     <li> Preserve all the copyright notices of the Document.

     <li>Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

     <li>Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

     <li>Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

     <li>Include an unaltered copy of this License.

     <li>Preserve the section entitled "History", and its title, and add to
it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section entitled "History" in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

     <li>Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the "History" section. 
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

     <li>In any section entitled "Acknowledgements" or "Dedications",
preserve the section's title, and preserve in the section all the
substance and tone of each of the contributor acknowledgements
and/or dedications given therein.

     <li>Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

     <li>Delete any section entitled "Endorsements".  Such a section
may not be included in the Modified Version.

     <li>Do not retitle any existing section as "Endorsements"
or to conflict in title with any Invariant Section.
        </ol>

   <p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice. 
These titles must be distinct from any other section titles.

   <p>You may add a section entitled "Endorsements", provided it contains
nothing but endorsements of your Modified Version by various
parties-for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

   <p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

   <p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.

<h3 class="unnumberedsec">COMBINING DOCUMENTS</h3>

   <p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice.

   <p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number. 
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

   <p>In the combination, you must combine any sections entitled "History"
in the various original documents, forming one section entitled
"History"; likewise combine any sections entitled "Acknowledgements",
and any sections entitled "Dedications".  You must delete all sections
entitled "Endorsements."

<h3 class="unnumberedsec">COLLECTIONS OF DOCUMENTS</h3>

   <p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

   <p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.

<h3 class="unnumberedsec">AGGREGATION WITH INDEPENDENT WORKS</h3>

   <p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, does not as a whole count as a Modified Version
of the Document, provided no compilation copyright is claimed for the
compilation.  Such a compilation is called an "aggregate", and this
License does not apply to the other self-contained works thus compiled
with the Document, on account of their being thus compiled, if they
are not themselves derivative works of the Document.

   <p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one quarter
of the entire aggregate, the Document's Cover Texts may be placed on
covers that surround only the Document within the aggregate. 
Otherwise they must appear on covers around the whole aggregate.

<h3 class="unnumberedsec">TRANSLATION</h3>

   <p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4. 
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License provided that you also include the
original English version of this License.  In case of a disagreement
between the translation and the original English version of this
License, the original English version will prevail.

<h3 class="unnumberedsec">TERMINATION</h3>

   <p>You may not copy, modify, sublicense, or distribute the Document except
as expressly provided for under this License.  Any other attempt to
copy, modify, sublicense or distribute the Document is void, and will
automatically terminate your rights under this License.  However,
parties who have received copies, or rights, from you under this
License will not have their licenses terminated so long as such
parties remain in full compliance.

<h3 class="unnumberedsec">FUTURE REVISIONS OF THIS LICENSE</h3>

   <p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
http://www.gnu.org/copyleft/.

   <p>Each version of the License is given a distinguishing version number. 
If the Document specifies that a particular numbered version of this
License "or any later version" applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.

<h3 class="unnumberedsec">ADDENDUM: How to use this License for your documents</h3>

   <p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

<pre class="display">     Copyright (c)  YEAR  YOUR NAME.
     Permission is granted to copy, distribute and/or modify this document
     under the terms of the GNU Free Documentation License, Version 1.1
     or any later version published by the Free Software Foundation;
     with the Invariant Sections being LIST THEIR TITLES, with the
     Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.
     A copy of the license is included in the section entitled "GNU
     Free Documentation License".
     </pre>

   <p>If you have no Invariant Sections, write "with no Invariant Sections"
instead of saying which ones are invariant.  If you have no
Front-Cover Texts, write "no Front-Cover Texts" instead of
"Front-Cover Texts being LIST"; likewise for Back-Cover Texts.

   <p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.

<div class="node">
<p><hr>
Node:<a name="Command%20Index">Command Index</a>,
Next:<a rel="next" accesskey="n" href="#Concept%20Index">Concept Index</a>,
Previous:<a rel="previous" accesskey="p" href="#GNU%20Free%20Documentation%20License">GNU Free Documentation License</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="unnumbered">Command Index</h2>

<ul class="index-ky" compact>
<li><code>export game gam</code>: <a href="#Export%20files">Export files</a>
<li><code>export game html</code>: <a href="#Export%20files">Export files</a>
<li><code>export match html</code>: <a href="#Export%20files">Export files</a>
<li><code>export match mat</code>: <a href="#Export%20files">Export files</a>
<li><code>export position html</code>: <a href="#Export%20files">Export files</a>
<li><code>export session html</code>: <a href="#Export%20files">Export files</a>
<li><code>swap players</code>: <a href="#Import%20files">Import files</a>
   </ul>
<div class="node">
<p><hr>
Node:<a name="Concept%20Index">Concept Index</a>,
Previous:<a rel="previous" accesskey="p" href="#Command%20Index">Command Index</a>,
Up:<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<h2 class="unnumbered">Index</h2>

<ul class="index-cp" compact>
<li>.bkg: <a href="#Import%20files">Import files</a>
<li>.cbg: <a href="#Import%20files">Import files</a>
<li>.gam: <a href="#Export%20files">Export files</a>
<li>.html: <a href="#Export%20files">Export files</a>
<li>.mat: <a href="#Export%20files">Export files</a>, <a href="#Import%20files">Import files</a>
<li>.pos: <a href="#Export%20files">Export files</a>, <a href="#Import%20files">Import files</a>
<li>.sgg: <a href="#Import%20files">Import files</a>
<li>.tmg: <a href="#Import%20files">Import files</a>
<li>automatic doubles: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>backgammon: <a href="#How%20to%20play%20backgammon">How to play backgammon</a>
<li>backgammon rules: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>backgammons: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>bar: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>BBGT: <a href="#Import%20files">Import files</a>
<li>bearing off: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>beavers: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>bkg: <a href="#Import%20files">Import files</a>
<li>blot: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>board setup: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>cbg: <a href="#Import%20files">Import files</a>
<li>Crawford rule: <a href="#Match%20Play">Match Play</a>
<li>cube owner: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>doubles, automatic: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>doubling cube: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>doubling, rules: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>enter: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>entering: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>FIBS: <a href="#Import%20files">Import files</a>
<li>FIBS/W: <a href="#Import%20files">Import files</a>
<li>gam: <a href="#Export%20files">Export files</a>
<li>GamesGrid: <a href="#Import%20files">Import files</a>
<li>gammons: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>Hans Berliner: <a href="#Import%20files">Import files</a>
<li>hitting: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>home board: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>HTML: <a href="#Export%20files">Export files</a>
<li>import, batch: <a href="#Import%20files">Import files</a>
<li>irregularities: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>Jacoby rule: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>Jellyfish: <a href="#Export%20files">Export files</a>, <a href="#Import%20files">Import files</a>
<li>LaTeX: <a href="#Export%20files">Export files</a>
<li>MacFIBS: <a href="#Import%20files">Import files</a>
<li>mat: <a href="#Import%20files">Import files</a>
<li>match ID: <a href="#A%20technical%20description%20of%20the%20match%20ID">A technical description of the match ID</a>
<li>match rules: <a href="#Match%20Play">Match Play</a>
<li>moving chequers, rules: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>MSN Gaming Zone: <a href="#Import%20files">Import files</a>
<li>object of the game: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>oldmoves: <a href="#Import%20files">Import files</a>
<li>open point: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>optional rules: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>outer board: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>PDF: <a href="#Export%20files">Export files</a>
<li>pips: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>plain text: <a href="#Export%20files">Export files</a>
<li>points: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>pos: <a href="#Import%20files">Import files</a>
<li>position ID: <a href="#A%20technical%20description%20of%20the%20position%20ID">A technical description of the position ID</a>
<li>PostScript: <a href="#Export%20files">Export files</a>
<li>rules, optional: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>sgg: <a href="#Import%20files">Import files</a>
<li>Snowie: <a href="#Export%20files">Export files</a>, <a href="#Import%20files">Import files</a>
<li>Snowie .txt position format: <a href="#Export%20files">Export files</a>, <a href="#Import%20files">Import files</a>
<li>swap players: <a href="#Import%20files">Import files</a>
<li>text: <a href="#Export%20files">Export files</a>
<li>tmg: <a href="#Import%20files">Import files</a>
<li>TrueMoneyGames: <a href="#Import%20files">Import files</a>
   </ul>


   </body></html>

